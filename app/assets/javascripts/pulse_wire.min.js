!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function n(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,u,"next",e)}function u(e){n(s,i,o,a,u,"throw",e)}a(void 0)}))}}function i(e,t,n){return t=m(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,n){return e.get(t(e,n))}function u(e,t,n){o(e,t),t.set(e,n)}function c(e,n,r){return e.set(t(e,n),r),r}function l(e,t){o(e,t),t.add(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function p(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},v.apply(null,arguments)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(){w=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new M(r||[]);return i(s,"_invoke",{value:R(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function b(){}var k={};c(k,s,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==n&&r.call(E,s)&&(k=E);var A=b.prototype=y.prototype=Object.create(k);function L(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,a){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function R(t,n,r){var i=d;return function(o,s){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var u=C(a,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?v:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},L(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new T(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},L(A),c(A,u,"Generator"),c(A,s,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n,r){var i=v(m(e.prototype),t,n);return"function"==typeof i?function(e){return i.apply(n,e)}:i}function L(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function T(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function P(e){var t="function"==typeof Map?new Map:void 0;return P=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(g())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&S(i,n.prototype),i}(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),S(n,e)},P(e)}var M,O,I=["callbacks"];
/*!
  Turbo 8.0.12
  Copyright © 2024 37signals LLC
   */
!function(e){function t(e,t,n){throw new e("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+t+".",n)}"function"!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(!function(e,n){e instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==e.type||t(TypeError,"The specified element is not a submit button"),e.form==n||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}(e,this),e.click()):((e=document.createElement("input")).type="submit",e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);var H=new WeakMap;function q(e){var t,n,r,i=(t=e.target,n=t instanceof Element?t:t instanceof Node?t.parentElement:null,"submit"==(null==(r=n?n.closest("input, button"):null)?void 0:r.type)?r:null);i&&i.form&&H.set(i.form,i)}!function(){if(!("submitter"in Event.prototype)){var e=window.Event.prototype;if("SubmitEvent"in window){var t=window.SubmitEvent.prototype;if(!/Apple Computer/.test(navigator.vendor)||"submitter"in t)return;e=t}addEventListener("click",q,!0),Object.defineProperty(e,"submitter",{get:function(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return H.get(this.target)}})}}();var F={eager:"eager",lazy:"lazy"},N=function(e){function t(){var e;return s(this,t),p(e=i(this,t),"loaded",Promise.resolve()),e.delegate=new t.delegateConstructor(e),e}return y(t,e),d(t,[{key:"connectedCallback",value:function(){this.delegate.connect()}},{key:"disconnectedCallback",value:function(){this.delegate.disconnect()}},{key:"reload",value:function(){return this.delegate.sourceURLReloaded()}},{key:"attributeChangedCallback",value:function(e){"loading"==e?this.delegate.loadingStyleChanged():"src"==e?this.delegate.sourceURLChanged():"disabled"==e&&this.delegate.disabledChanged()}},{key:"src",get:function(){return this.getAttribute("src")},set:function(e){e?this.setAttribute("src",e):this.removeAttribute("src")}},{key:"refresh",get:function(){return this.getAttribute("refresh")},set:function(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}},{key:"shouldReloadWithMorph",get:function(){return this.src&&"morph"===this.refresh}},{key:"loading",get:function(){return function(e){if("lazy"===e.toLowerCase())return F.lazy;return F.eager}(this.getAttribute("loading")||"")},set:function(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}},{key:"autoscroll",get:function(){return this.hasAttribute("autoscroll")},set:function(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}},{key:"complete",get:function(){return!this.delegate.isLoading}},{key:"isActive",get:function(){return this.ownerDocument===document&&!this.isPreview}},{key:"isPreview",get:function(){var e;return null===(e=this.ownerDocument)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.hasAttribute("data-turbo-preview")}}],[{key:"observedAttributes",get:function(){return["disabled","loading","src"]}}])}(P(HTMLElement));p(N,"delegateConstructor",void 0);var B={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function W(e){if("false"==e.getAttribute("data-turbo-eval"))return e;var t=document.createElement("script"),n=ne();return n&&(t.nonce=n),t.textContent=e.textContent,t.async=!1,function(e,t){var n,r=f(t.attributes);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.name,s=i.value;e.setAttribute(o,s)}}catch(e){r.e(e)}finally{r.f()}}(t,e),t}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.target,r=t.cancelable,i=t.detail,o=new CustomEvent(e,{cancelable:r,bubbles:!0,composed:!0,detail:i});return n&&n.isConnected?n.dispatchEvent(o):document.documentElement.dispatchEvent(o),o}function j(e){e.preventDefault(),e.stopImmediatePropagation()}function V(){return"hidden"===document.visibilityState?U():_()}function _(){return new Promise((function(e){return requestAnimationFrame((function(){return e()}))}))}function U(){return new Promise((function(e){return setTimeout((function(){return e()}),0)}))}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(new DOMParser).parseFromString(e,"text/html")}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(e,t){return e.reduce((function(e,n,r){return e+n+(null==t[r]?"":t[r])}),"")}(e,n).replace(/^\n/,"").split("\n"),o=i[0].match(/^\s+/),s=o?o[0].length:0;return i.map((function(e){return e.slice(s)})).join("\n")}function J(){return Array.from({length:36}).map((function(e,t){return 8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16)})).join("")}function X(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o=f(n.map((function(t){return null==t?void 0:t.getAttribute(e)})));try{for(o.s();!(i=o.n()).done;){var s=i.value;if("string"==typeof s)return s}}catch(e){o.e(e)}finally{o.f()}return null}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];"turbo-frame"==o.localName&&o.setAttribute("busy",""),o.setAttribute("aria-busy","true")}}function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];"turbo-frame"==o.localName&&o.removeAttribute("busy"),o.removeAttribute("aria-busy")}}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise((function(n){var r=function(){e.removeEventListener("error",r),e.removeEventListener("load",r),n()};e.addEventListener("load",r,{once:!0}),e.addEventListener("error",r,{once:!0}),setTimeout(n,t)}))}function Q(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=X.apply(void 0,["data-turbo-action"].concat(t));return function(e){return"advance"==e||"replace"==e||"restore"==e}(r)?r:null}function ee(e){return document.querySelector('meta[name="'.concat(e,'"]'))}function te(e){var t=ee(e);return t&&t.content}function ne(){var e=ee("csp-nonce");if(e){var t=e.nonce,n=e.content;return""==t?n:t}}function re(e,t){var n;if(e instanceof Element)return e.closest(t)||re(e.assignedSlot||(null===(n=e.getRootNode())||void 0===n?void 0:n.host),t)}function ie(e){return!!e&&null==e.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")&&"function"==typeof e.focus}function oe(e){return Array.from(e.querySelectorAll("[autofocus]")).find(ie)}function se(e,t){return ae.apply(this,arguments)}function ae(){return(ae=r(w().mark((function e(t,n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),t(),e.next=4,_();case 4:return i=n(),e.abrupt("return",[r,i]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){if("_blank"===e)return!1;if(e){var t,n=f(document.getElementsByName(e));try{for(n.s();!(t=n.n()).done;){if(t.value instanceof HTMLIFrameElement)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}return!0}function ce(e){return re(e,"a[href]:not([target^=_]):not([download])")}function le(e){return ve(e.getAttribute("href")||"")}var he={"aria-disabled":{beforeSubmit:function(e){e.setAttribute("aria-disabled","true"),e.addEventListener("click",j)},afterSubmit:function(e){e.removeAttribute("aria-disabled"),e.removeEventListener("click",j)}},disabled:{beforeSubmit:function(e){return e.disabled=!0},afterSubmit:function(e){return e.disabled=!1}}},de=new WeakMap,fe=function(){return d((function e(t){s(this,e),u(this,de,null),Object.assign(this,t)}),[{key:"submitter",get:function(){return a(de,this)},set:function(e){c(de,this,he[e]||e)}}])}(),pe={drive:B,forms:new fe({mode:"on",submitter:"disabled"})};function ve(e){return new URL(e.toString(),document.baseURI)}function me(e){var t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function ye(e,t){return ve((null==t?void 0:t.getAttribute("formaction"))||e.getAttribute("action")||e.action)}function ge(e){return(function(e){return function(e){return e.pathname.split("/").slice(1)}(e).slice(-1)[0]}(e).match(/\.[^.]*$/)||[])[0]||""}function be(e,t){var n=function(e){return t=e.origin+e.pathname,t.endsWith("/")?t:t+"/";var t}(t);return e.href===ve(n).href||e.href.startsWith(n)}function ke(e,t){return be(e,t)&&!pe.drive.unvisitableExtensions.has(ge(e))}function we(e){var t=me(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function Se(e){return we(e)}var Ee=function(){return d((function e(t){s(this,e),this.response=t}),[{key:"succeeded",get:function(){return this.response.ok}},{key:"failed",get:function(){return!this.succeeded}},{key:"clientError",get:function(){return this.statusCode>=400&&this.statusCode<=499}},{key:"serverError",get:function(){return this.statusCode>=500&&this.statusCode<=599}},{key:"redirected",get:function(){return this.response.redirected}},{key:"location",get:function(){return ve(this.response.url)}},{key:"isHTML",get:function(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}},{key:"statusCode",get:function(){return this.response.status}},{key:"contentType",get:function(){return this.header("Content-Type")}},{key:"responseText",get:function(){return this.response.clone().text()}},{key:"responseHTML",get:function(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}},{key:"header",value:function(e){return this.response.headers.get(e)}}])}(),Ae=new(function(e){function t(e){var n;return s(this,t),(n=i(this,t)).maxSize=e,n}return y(t,e),d(t,[{key:"add",value:function(e){if(this.size>=this.maxSize){var n=this.values().next().value;this.delete(n)}A(t,"add",this)([e])}}])}(P(Set)))(20),Le=window.fetch;function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Headers(t.headers||{}),r=J();return Ae.add(r),n.append("X-Turbo-Request-Id",r),Le(e,k(k({},t),{},{headers:n}))}function Re(e){switch(e.toLowerCase()){case"get":return Ce.get;case"post":return Ce.post;case"put":return Ce.put;case"patch":return Ce.patch;case"delete":return Ce.delete}}var Ce={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function xe(e){switch(e.toLowerCase()){case Pe.multipart:return Pe.multipart;case Pe.plain:return Pe.plain;default:return Pe.urlEncoded}}var Pe={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},Me=new WeakMap,Oe=new WeakSet,Ie=function(){return d((function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new URLSearchParams,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pe.urlEncoded;s(this,e),l(this,Oe),p(this,"abortController",new AbortController),u(this,Me,(function(e){}));var h=E(Be(ve(r),n,o,c),2),d=h[0],f=h[1];this.delegate=t,this.url=d,this.target=a,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:n.toUpperCase(),headers:k({},this.defaultHeaders),body:f,signal:this.abortSignal,referrer:null===(i=this.delegate.referrer)||void 0===i?void 0:i.href},this.enctype=c}),[{key:"method",get:function(){return this.fetchOptions.method},set:function(e){var t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,n=Re(e)||Ce.get;this.url.search="";var r=E(Be(this.url,n,t,this.enctype),2),i=r[0],o=r[1];this.url=i,this.fetchOptions.body=o,this.fetchOptions.method=n.toUpperCase()}},{key:"headers",get:function(){return this.fetchOptions.headers},set:function(e){this.fetchOptions.headers=e}},{key:"body",get:function(){return this.isSafe?this.url.searchParams:this.fetchOptions.body},set:function(e){this.fetchOptions.body=e}},{key:"location",get:function(){return this.url}},{key:"params",get:function(){return this.url.searchParams}},{key:"entries",get:function(){return this.body?Array.from(this.body.entries()):[]}},{key:"cancel",value:function(){this.abortController.abort()}},{key:"perform",value:(n=r(w().mark((function e(){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.fetchOptions,this.delegate.prepareRequest(this),e.next=4,t(Oe,this,He).call(this,n);case 4:return r=e.sent,e.prev=5,this.delegate.requestStarted(this),r.detail.fetchRequest?this.response=r.detail.fetchRequest.response:this.response=Te(this.url.href,n),e.next=10,this.response;case 10:return i=e.sent,e.next=13,this.receive(i);case 13:return e.abrupt("return",e.sent);case 16:if(e.prev=16,e.t0=e.catch(5),"AbortError"===e.t0.name){e.next=21;break}throw t(Oe,this,Fe).call(this,e.t0)&&this.delegate.requestErrored(this,e.t0),e.t0;case 21:return e.prev=21,this.delegate.requestFinished(this),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[5,16,21,24]])}))),function(){return n.apply(this,arguments)})},{key:"receive",value:(e=r(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:n=new Ee(t)},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,n):n.succeeded?this.delegate.requestSucceededWithResponse(this,n):this.delegate.requestFailedWithResponse(this,n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"defaultHeaders",get:function(){return{Accept:"text/html, application/xhtml+xml"}}},{key:"isSafe",get:function(){return Ne(this.method)}},{key:"abortSignal",get:function(){return this.abortController.signal}},{key:"acceptResponseType",value:function(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}}]);var e,n}();function He(e){return qe.apply(this,arguments)}function qe(){return(qe=r(w().mark((function e(t){var n,r,i=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Promise((function(e){return c(Me,i,e)})),r=D("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:a(Me,this)},target:this.target}),this.url=r.detail.url,!r.defaultPrevented){e.next=6;break}return e.next=6,n;case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Fe(e){return!D("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}function Ne(e){return Re(e)==Ce.get}function Be(e,t,n,r){var i=Array.from(n).length>0?new URLSearchParams(We(n)):e.searchParams;return Ne(t)?[De(e,i),null]:r==Pe.urlEncoded?[e,i]:[e,n]}function We(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var i=E(t.value,2),o=i[0],s=i[1];s instanceof File||n.push([o,s])}}catch(e){r.e(e)}finally{r.f()}return n}function De(e,t){var n=new URLSearchParams(We(t));return e.search=n.toString(),e}var je=function(){return d((function e(t,n){var r=this;s(this,e),p(this,"started",!1),p(this,"intersect",(function(e){var t=e.slice(-1)[0];null!=t&&t.isIntersecting&&r.delegate.elementAppearedInViewport(r.element)})),this.delegate=t,this.element=n,this.intersectionObserver=new IntersectionObserver(this.intersect)}),[{key:"start",value:function(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}},{key:"stop",value:function(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}])}(),Ve=function(){return d((function e(t){s(this,e),this.fragment=function(e){var t,n=f(e.querySelectorAll("turbo-stream"));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=document.importNode(i,!0),s=f(o.templateElement.content.querySelectorAll("script"));try{for(s.s();!(r=s.n()).done;){var a=r.value;a.replaceWith(W(a))}}catch(e){s.e(e)}finally{s.f()}i.replaceWith(o)}}catch(e){n.e(e)}finally{n.f()}return e}(t)}),null,[{key:"wrap",value:function(e){return"string"==typeof e?new this((t=e,(n=document.createElement("template")).innerHTML=t,n.content)):e;var t,n}}])}();p(Ve,"contentType","text/vnd.turbo-stream.html");var _e=new WeakMap,Ue=new WeakMap,ze=new(function(){return d((function e(){s(this,e),u(this,_e,null),u(this,Ue,null)}),[{key:"get",value:function(e){if(a(Ue,this)&&a(Ue,this).url===e&&a(Ue,this).expire>Date.now())return a(Ue,this).request}},{key:"setLater",value:function(e,t,n){var r=this;this.clear(),c(_e,this,setTimeout((function(){t.perform(),r.set(e,t,n),c(_e,r,null)}),100))}},{key:"set",value:function(e,t,n){c(Ue,this,{url:e,request:t,expire:new Date((new Date).getTime()+n)})}},{key:"clear",value:function(){a(_e,this)&&clearTimeout(a(_e,this)),c(Ue,this,null)}}])}()),Ge="initialized",Je="requesting",Xe="waiting",Ke="receiving",Ye="stopping",$e="stopped",Qe=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s(this,e),p(this,"state",Ge);var o=function(e,t){var n=(null==t?void 0:t.getAttribute("formmethod"))||e.getAttribute("method")||"";return Re(n.toLowerCase())||Ce.get}(n,r),a=function(e,t){var n=ve(e);Ne(t)&&(n.search="");return n}(function(e,t){var n="string"==typeof e.action?e.action:null;return null!=t&&t.hasAttribute("formaction")?t.getAttribute("formaction")||"":e.getAttribute("action")||n||""}(n,r),o),u=function(e,t){var n=new FormData(e),r=null==t?void 0:t.getAttribute("name"),i=null==t?void 0:t.getAttribute("value");r&&n.append(r,i||"");return n}(n,r),c=function(e,t){return xe((null==t?void 0:t.getAttribute("formenctype"))||e.enctype)}(n,r);this.delegate=t,this.formElement=n,this.submitter=r,this.fetchRequest=new Ie(this,o,a,u,n,c),this.mustRedirect=i}return d(e,[{key:"method",get:function(){return this.fetchRequest.method},set:function(e){this.fetchRequest.method=e}},{key:"action",get:function(){return this.fetchRequest.url.toString()},set:function(e){this.fetchRequest.url=ve(e)}},{key:"body",get:function(){return this.fetchRequest.body}},{key:"enctype",get:function(){return this.fetchRequest.enctype}},{key:"isSafe",get:function(){return this.fetchRequest.isSafe}},{key:"location",get:function(){return this.fetchRequest.url}},{key:"start",value:(t=r(w().mark((function t(){var n,r,i,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Ge,r=Je,"string"!=typeof(i=X("data-turbo-confirm",this.submitter,this.formElement))){t.next=9;break}return o="function"==typeof pe.forms.confirm?pe.forms.confirm:e.confirmMethod,t.next=6,o(i,this.formElement,this.submitter);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:if(this.state!=n){t.next=12;break}return this.state=r,t.abrupt("return",this.fetchRequest.perform());case 12:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"stop",value:function(){var e=Ye,t=$e;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}},{key:"prepareRequest",value:function(e){if(!e.isSafe){var t=function(e){if(null!=e){var t=(document.cookie?document.cookie.split("; "):[]).find((function(t){return t.startsWith(e)}));if(t){var n=t.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}(te("csrf-param"))||te("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Ve.contentType)}},{key:"requestStarted",value:function(e){this.state=Xe,this.submitter&&pe.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),K(this.formElement),D("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}},{key:"requestPreventedHandlingResponse",value:function(e,t){ze.clear(),this.result={success:t.succeeded,fetchResponse:t}}},{key:"requestSucceededWithResponse",value:function(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(ze.clear(),this.requestMustRedirect(e)&&function(e){return 200==e.statusCode&&!e.redirected}(t)){var n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=Ke,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}},{key:"requestFailedWithResponse",value:function(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}},{key:"requestErrored",value:function(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}},{key:"requestFinished",value:function(e){this.state=$e,this.submitter&&pe.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),Y(this.formElement),D("turbo:submit-end",{target:this.formElement,detail:k({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}},{key:"setSubmitsWith",value:function(){if(this.submitter&&this.submitsWith)if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){var e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}},{key:"resetSubmitterText",value:function(){if(this.submitter&&this.originalSubmitText)if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){this.submitter.value=this.originalSubmitText}}},{key:"requestMustRedirect",value:function(e){return!e.isSafe&&this.mustRedirect}},{key:"requestAcceptsTurboStreamResponse",value:function(e){return!e.isSafe||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some((function(t){return t&&t.hasAttribute(e)}))}("data-turbo-stream",this.submitter,this.formElement)}},{key:"submitsWith",get:function(){var e;return null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("data-turbo-submits-with")}}],[{key:"confirmMethod",value:function(e){return Promise.resolve(confirm(e))}}]);var t}();var Ze=function(){return d((function e(t){s(this,e),this.element=t}),[{key:"activeElement",get:function(){return this.element.ownerDocument.activeElement}},{key:"children",get:function(){return T(this.element.children)}},{key:"hasAnchor",value:function(e){return null!=this.getElementForAnchor(e)}},{key:"getElementForAnchor",value:function(e){return e?this.element.querySelector("[id='".concat(e,"'], a[name='").concat(e,"']")):null}},{key:"isConnected",get:function(){return this.element.isConnected}},{key:"firstAutofocusableElement",get:function(){return oe(this.element)}},{key:"permanentElements",get:function(){return tt(this.element)}},{key:"getPermanentElementById",value:function(e){return et(this.element,e)}},{key:"getPermanentElementMapForSnapshot",value:function(e){var t,n={},r=f(this.permanentElements);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.id,s=e.getPermanentElementById(o);s&&(n[o]=[i,s])}}catch(e){r.e(e)}finally{r.f()}return n}}])}();function et(e,t){return e.querySelector("#".concat(t,"[data-turbo-permanent]"))}function tt(e){return e.querySelectorAll("[id][data-turbo-permanent]")}var nt=function(){return d((function e(t,n){var r=this;s(this,e),p(this,"started",!1),p(this,"submitCaptured",(function(){r.eventTarget.removeEventListener("submit",r.submitBubbled,!1),r.eventTarget.addEventListener("submit",r.submitBubbled,!1)})),p(this,"submitBubbled",(function(e){if(!e.defaultPrevented){var t=e.target instanceof HTMLFormElement?e.target:void 0,n=e.submitter||void 0;t&&function(e,t){var n=(null==t?void 0:t.getAttribute("formmethod"))||e.getAttribute("method");return"dialog"!=n}(t,n)&&function(e,t){var n=(null==t?void 0:t.getAttribute("formtarget"))||e.getAttribute("target");return ue(n)}(t,n)&&r.delegate.willSubmitForm(t,n)&&(e.preventDefault(),e.stopImmediatePropagation(),r.delegate.formSubmitted(t,n))}})),this.delegate=t,this.eventTarget=n}),[{key:"start",value:function(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}},{key:"stop",value:function(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}])}();var rt=new WeakMap,it=new WeakMap,ot=function(){return d((function e(t,n){s(this,e),u(this,rt,(function(e){})),u(this,it,(function(e){})),this.delegate=t,this.element=n}),[{key:"scrollToAnchor",value:function(e){var t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}},{key:"scrollToAnchorFromLocation",value:function(e){this.scrollToAnchor(me(e))}},{key:"scrollToElement",value:function(e){e.scrollIntoView()}},{key:"focusElement",value:function(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}},{key:"scrollToPosition",value:function(e){var t=e.x,n=e.y;this.scrollRoot.scrollTo(t,n)}},{key:"scrollToTop",value:function(){this.scrollToPosition({x:0,y:0})}},{key:"scrollRoot",get:function(){return window}},{key:"render",value:(n=r(w().mark((function e(t){var n,r,i,o,s,u,l,h=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.isPreview,r=t.shouldRender,i=t.willRender,o=t.newSnapshot,s=i,!r){e.next=26;break}return e.prev=3,this.renderPromise=new Promise((function(e){return c(rt,h,e)})),this.renderer=t,e.next=8,this.prepareToRenderSnapshot(t);case 8:if(u=new Promise((function(e){return c(it,h,e)})),l={resume:a(it,this),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod},this.delegate.allowsImmediateRender(o,l)){e.next=14;break}return e.next=14,u;case 14:return e.next=16,this.renderSnapshot(t);case 16:this.delegate.viewRenderedSnapshot(o,n,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t);case 19:return e.prev=19,delete this.renderer,a(rt,this).call(this,void 0),delete this.renderPromise,e.finish(19);case 24:e.next=27;break;case 26:s&&this.invalidate(t.reloadReason);case 27:case"end":return e.stop()}}),e,this,[[3,,19,24]])}))),function(e){return n.apply(this,arguments)})},{key:"invalidate",value:function(e){this.delegate.viewInvalidated(e)}},{key:"prepareToRenderSnapshot",value:(t=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.markAsPreview(t.isPreview),e.next=3,t.prepareToRender();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"markAsPreview",value:function(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}},{key:"markVisitDirection",value:function(e){this.element.setAttribute("data-turbo-visit-direction",e)}},{key:"unmarkVisitDirection",value:function(){this.element.removeAttribute("data-turbo-visit-direction")}},{key:"renderSnapshot",value:(e=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render();case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{key:"finishRenderingSnapshot",value:function(e){e.finishRendering()}}]);var e,t,n}(),st=function(e){function t(){return s(this,t),i(this,t,arguments)}return y(t,e),d(t,[{key:"missing",value:function(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}},{key:"snapshot",get:function(){return new Ze(this.element)}}])}(ot),at=function(){return d((function e(t,n){var r=this;s(this,e),p(this,"clickBubbled",(function(e){r.clickEventIsSignificant(e)?r.clickEvent=e:delete r.clickEvent})),p(this,"linkClicked",(function(e){r.clickEvent&&r.clickEventIsSignificant(e)&&r.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(r.clickEvent.preventDefault(),e.preventDefault(),r.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete r.clickEvent})),p(this,"willVisit",(function(e){delete r.clickEvent})),this.delegate=t,this.element=n}),[{key:"start",value:function(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}},{key:"stop",value:function(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}},{key:"clickEventIsSignificant",value:function(e){var t,n=e.composed?null===(t=e.target)||void 0===t?void 0:t.parentElement:e.target,r=ce(n)||n;return r instanceof Element&&r.closest("turbo-frame, html")==this.element}}])}(),ut=function(){return d((function e(t,n){var r=this;s(this,e),p(this,"started",!1),p(this,"clickCaptured",(function(){r.eventTarget.removeEventListener("click",r.clickBubbled,!1),r.eventTarget.addEventListener("click",r.clickBubbled,!1)})),p(this,"clickBubbled",(function(e){if(e instanceof MouseEvent&&r.clickEventIsSignificant(e)){var t=ce(e.composedPath&&e.composedPath()[0]||e.target);if(t&&ue(t.target)){var n=le(t);r.delegate.willFollowLinkToLocation(t,n,e)&&(e.preventDefault(),r.delegate.followedLinkToLocation(t,n))}}})),this.delegate=t,this.eventTarget=n}),[{key:"start",value:function(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}},{key:"stop",value:function(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}},{key:"clickEventIsSignificant",value:function(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}])}(),ct=function(){return d((function e(t,n){s(this,e),this.delegate=t,this.linkInterceptor=new ut(this,n)}),[{key:"start",value:function(){this.linkInterceptor.start()}},{key:"stop",value:function(){this.linkInterceptor.stop()}},{key:"canPrefetchRequestToLocation",value:function(e,t){return!1}},{key:"prefetchAndCacheRequestToLocation",value:function(e,t){}},{key:"willFollowLinkToLocation",value:function(e,t,n){return this.delegate.willSubmitFormLinkToLocation(e,t,n)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}},{key:"followedLinkToLocation",value:function(e,t){var n,r=document.createElement("form"),i=f(t.searchParams);try{for(i.s();!(n=i.n()).done;){var o=E(n.value,2),s=o[0],a=o[1];r.append(Object.assign(document.createElement("input"),{type:"hidden",name:s,value:a}))}}catch(e){i.e(e)}finally{i.f()}var u=Object.assign(t,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",u.href),r.setAttribute("hidden","");var c=e.getAttribute("data-turbo-method");c&&r.setAttribute("method",c);var l=e.getAttribute("data-turbo-frame");l&&r.setAttribute("data-turbo-frame",l);var h=Z(e);h&&r.setAttribute("data-turbo-action",h);var d=e.getAttribute("data-turbo-confirm");d&&r.setAttribute("data-turbo-confirm",d),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",(function(){return r.remove()}),{once:!0}),requestAnimationFrame((function(){return r.requestSubmit()}))}}])}(),lt=function(){return d((function e(t,n){s(this,e),this.delegate=t,this.permanentElementMap=n}),[{key:"enter",value:function(){for(var e in this.permanentElementMap){var t=E(this.permanentElementMap[e],2),n=t[0],r=t[1];this.delegate.enteringBardo(n,r),this.replaceNewPermanentElementWithPlaceholder(r)}}},{key:"leave",value:function(){for(var e in this.permanentElementMap){var t=E(this.permanentElementMap[e],1)[0];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}},{key:"replaceNewPermanentElementWithPlaceholder",value:function(e){var t=function(e){var t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}(e);e.replaceWith(t)}},{key:"replaceCurrentPermanentElementWithClone",value:function(e){var t=e.cloneNode(!0);e.replaceWith(t)}},{key:"replacePlaceholderWithPermanentElement",value:function(e){var t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)}},{key:"getPlaceholderById",value:function(e){return this.placeholders.find((function(t){return t.content==e}))}},{key:"placeholders",get:function(){return T(document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]"))}}],[{key:"preservingPermanentElements",value:(e=r(w().mark((function e(t,n,r){var i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new this(t,n)).enter(),e.next=4,r();case 4:i.leave();case 5:case"end":return e.stop()}}),e,this)}))),function(t,n,r){return e.apply(this,arguments)})}]);var e}();var ht=new WeakMap,dt=function(){return d((function e(t,n,r){var i=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];s(this,e),u(this,ht,null),this.currentSnapshot=t,this.newSnapshot=n,this.isPreview=r,this.willRender=o,this.renderElement=this.constructor.renderElement,this.promise=new Promise((function(e,t){return i.resolvingFunctions={resolve:e,reject:t}}))}),[{key:"shouldRender",get:function(){return!0}},{key:"shouldAutofocus",get:function(){return!0}},{key:"reloadReason",get:function(){}},{key:"prepareToRender",value:function(){}},{key:"render",value:function(){}},{key:"finishRendering",value:function(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}},{key:"preservingPermanentElements",value:(e=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt.preservingPermanentElements(this,this.permanentElementMap,t);case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"focusFirstAutofocusableElement",value:function(){if(this.shouldAutofocus){var e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}},{key:"enteringBardo",value:function(e){a(ht,this)||e.contains(this.currentSnapshot.activeElement)&&c(ht,this,this.currentSnapshot.activeElement)}},{key:"leavingBardo",value:function(e){e.contains(a(ht,this))&&a(ht,this)instanceof HTMLElement&&(a(ht,this).focus(),c(ht,this,null))}},{key:"connectedSnapshot",get:function(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}},{key:"currentElement",get:function(){return this.currentSnapshot.element}},{key:"newElement",get:function(){return this.newSnapshot.element}},{key:"permanentElementMap",get:function(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}},{key:"renderMethod",get:function(){return"replace"}}],[{key:"renderElement",value:function(e,t){}}]);var e}(),ft=function(e){function t(e,n,r,o,a){var u,c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return s(this,t),(u=i(this,t,[n,r,o,a,c])).delegate=e,u}return y(t,e),d(t,[{key:"shouldRender",get:function(){return!0}},{key:"render",value:(n=r(w().mark((function e(){var t=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return this.preservingPermanentElements((function(){t.loadFrameElement()})),this.scrollFrameIntoView(),e.next=6,V();case 6:return this.focusFirstAutofocusableElement(),e.next=9,V();case 9:this.activateScriptElements();case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadFrameElement",value:function(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}},{key:"scrollFrameIntoView",value:function(){if(this.currentElement.autoscroll||this.newElement.autoscroll){var e=this.currentElement.firstElementChild,t=(r=this.currentElement.getAttribute("data-autoscroll-block"),i="end","end"==r||"start"==r||"center"==r||"nearest"==r?r:i),n=function(e,t){return"auto"==e||"smooth"==e?e:t}(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:n}),!0}var r,i;return!1}},{key:"activateScriptElements",value:function(){var e,t=f(this.newScriptElements);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=W(n);n.replaceWith(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"newScriptElements",get:function(){return this.currentElement.querySelectorAll("script")}}],[{key:"renderElement",value:function(e,t){var n,r=document.createRange();r.selectNodeContents(e),r.deleteContents();var i=t,o=null===(n=i.ownerDocument)||void 0===n?void 0:n.createRange();o&&(o.selectNodeContents(i),e.appendChild(o.extractContents()))}}]);var n}(dt);var pt=function(){var e=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:c,afterNodeAdded:c,beforeNodeMorphed:c,afterNodeMorphed:c,beforeNodeRemoved:c,afterNodeRemoved:c,beforeAttributeUpdated:c},head:{style:"merge",shouldPreserve:function(e){return"true"===e.getAttribute("im-preserve")},shouldReAppend:function(e){return"true"===e.getAttribute("im-re-append")},shouldRemove:c,afterHeadMorphed:c}};function n(e,t,r){if(r.head.block){var s=e.querySelector("head"),a=t.querySelector("head");if(s&&a){var c=u(a,s,r);return void Promise.all(c).then((function(){n(e,t,Object.assign(r,{head:{block:!1,ignore:!0}}))}))}}if("innerHTML"===r.morphStyle)return o(t,e,r),e.children;if("outerHTML"===r.morphStyle||null==r.morphStyle){var l=function(e,t,n){var r,i=r=e.firstChild,o=0;for(;r;){var s=m(r,t,n);s>o&&(i=r,o=s),r=r.nextSibling}return i}(t,e,r),h=null==l?void 0:l.previousSibling,d=null==l?void 0:l.nextSibling,f=i(e,l,r);return l?function(e,t,n){var r=[],i=[];for(;null!=e;)r.push(e),e=e.previousSibling;for(;r.length>0;){var o=r.pop();i.push(o),t.parentElement.insertBefore(o,t)}i.push(t);for(;null!=n;)r.push(n),i.push(n),n=n.nextSibling;for(;r.length>0;)t.parentElement.insertBefore(r.pop(),t.nextSibling);return i}(h,f,d):[]}throw"Do not understand how to morph style "+r.morphStyle}function r(e,t){return t.ignoreActiveValue&&e===document.activeElement&&e!==document.body}function i(e,t,n){if(!n.ignoreActive||e!==document.activeElement)return null==t?!1===n.callbacks.beforeNodeRemoved(e)?e:(e.remove(),n.callbacks.afterNodeRemoved(e),null):h(e,t)?(!1===n.callbacks.beforeNodeMorphed(e,t)||(e instanceof HTMLHeadElement&&n.head.ignore||(e instanceof HTMLHeadElement&&"morph"!==n.head.style?u(t,e,n):(!function(e,t,n){var i=e.nodeType;if(1===i){var o,u=e.attributes,c=t.attributes,l=f(u);try{for(l.s();!(o=l.n()).done;){var h=o.value;s(h.name,t,"update",n)||t.getAttribute(h.name)!==h.value&&t.setAttribute(h.name,h.value)}}catch(e){l.e(e)}finally{l.f()}for(var d=c.length-1;0<=d;d--){var p=c[d];s(p.name,t,"remove",n)||(e.hasAttribute(p.name)||t.removeAttribute(p.name))}}8!==i&&3!==i||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue);r(t,n)||function(e,t,n){if(e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&"file"!==e.type){var r=e.value,i=t.value;a(e,t,"checked",n),a(e,t,"disabled",n),e.hasAttribute("value")?r!==i&&(s("value",t,"update",n)||(t.setAttribute("value",r),t.value=r)):s("value",t,"remove",n)||(t.value="",t.removeAttribute("value"))}else if(e instanceof HTMLOptionElement)a(e,t,"selected",n);else if(e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement){var o=e.value,u=t.value;if(s("value",t,"update",n))return;o!==u&&(t.value=o),t.firstChild&&t.firstChild.nodeValue!==o&&(t.firstChild.nodeValue=o)}}(e,t,n)}(t,e,n),r(e,n)||o(t,e,n))),n.callbacks.afterNodeMorphed(e,t)),e):!1===n.callbacks.beforeNodeRemoved(e)||!1===n.callbacks.beforeNodeAdded(t)?e:(e.parentElement.replaceChild(t,e),n.callbacks.afterNodeAdded(t),n.callbacks.afterNodeRemoved(e),t)}function o(e,t,n){for(var r,o=e.firstChild,s=t.firstChild;o;)if(o=(r=o).nextSibling,null!=s)if(l(r,s,n))i(s,r,n),s=s.nextSibling,k(n,r);else{var a=p(e,t,r,s,n);if(a)s=d(s,a,n),i(a,r,n),k(n,r);else{var u=v(e,t,r,s,n);if(u)s=d(s,u,n),i(u,r,n),k(n,r);else{if(!1===n.callbacks.beforeNodeAdded(r))return;t.insertBefore(r,s),n.callbacks.afterNodeAdded(r),k(n,r)}}}else{if(!1===n.callbacks.beforeNodeAdded(r))return;t.appendChild(r),n.callbacks.afterNodeAdded(r),k(n,r)}for(;null!==s;){var c=s;s=s.nextSibling,y(c,n)}}function s(e,t,n,r){return!("value"!==e||!r.ignoreActiveValue||t!==document.activeElement)||!1===r.callbacks.beforeAttributeUpdated(e,t,n)}function a(e,t,n,r){if(e[n]!==t[n]){var i=s(n,t,"update",r);i||(t[n]=e[n]),e[n]?i||t.setAttribute(n,e[n]):s(n,t,"remove",r)||t.removeAttribute(n)}}function u(e,t,n){var r,i=[],o=[],s=[],a=[],u=n.head.style,c=new Map,l=f(e.children);try{for(l.s();!(r=l.n()).done;){var h=r.value;c.set(h.outerHTML,h)}}catch(e){l.e(e)}finally{l.f()}var d,p=f(t.children);try{for(p.s();!(d=p.n()).done;){var v=d.value,m=c.has(v.outerHTML),y=n.head.shouldReAppend(v),g=n.head.shouldPreserve(v);m||g?y?o.push(v):(c.delete(v.outerHTML),s.push(v)):"append"===u?y&&(o.push(v),a.push(v)):!1!==n.head.shouldRemove(v)&&o.push(v)}}catch(e){p.e(e)}finally{p.f()}a.push.apply(a,T(c.values()));for(var b=[],k=function(){var e=S[w],r=document.createRange().createContextualFragment(e.outerHTML).firstChild;if(!1!==n.callbacks.beforeNodeAdded(r)){if(r.href||r.src){var o=null,s=new Promise((function(e){o=e}));r.addEventListener("load",(function(){o()})),b.push(s)}t.appendChild(r),n.callbacks.afterNodeAdded(r),i.push(r)}},w=0,S=a;w<S.length;w++)k();for(var E=0,A=o;E<A.length;E++){var L=A[E];!1!==n.callbacks.beforeNodeRemoved(L)&&(t.removeChild(L),n.callbacks.afterNodeRemoved(L))}return n.head.afterHeadMorphed(t,{added:i,kept:s,removed:o}),b}function c(){}function l(e,t,n){return null!=e&&null!=t&&(e.nodeType===t.nodeType&&e.tagName===t.tagName&&(""!==e.id&&e.id===t.id||w(n,e,t)>0))}function h(e,t){return null!=e&&null!=t&&(e.nodeType===t.nodeType&&e.tagName===t.tagName)}function d(e,t,n){for(;e!==t;){var r=e;e=e.nextSibling,y(r,n)}return k(n,t),t.nextSibling}function p(e,t,n,r,i){var o=w(i,n,t);if(o>0)for(var s=r,a=0;null!=s;){if(l(n,s,i))return s;if((a+=w(i,s,e))>o)return null;s=s.nextSibling}return null}function v(e,t,n,r,i){for(var o=r,s=n.nextSibling,a=0;null!=o;){if(w(i,o,e)>0)return null;if(h(n,o))return o;if(h(s,o)&&(a++,s=s.nextSibling,a>=2))return null;o=o.nextSibling}return o}function m(e,t,n){return h(e,t)?.5+w(n,e,t):0}function y(e,t){k(t,e),!1!==t.callbacks.beforeNodeRemoved(e)&&(e.remove(),t.callbacks.afterNodeRemoved(e))}function g(e,t){return!e.deadIds.has(t)}function b(t,n,r){return(t.idMap.get(r)||e).has(n)}function k(t,n){var r,i=f(t.idMap.get(n)||e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.deadIds.add(o)}}catch(e){i.e(e)}finally{i.f()}}function w(t,n,r){var i,o=0,s=f(t.idMap.get(n)||e);try{for(s.s();!(i=s.n()).done;){var a=i.value;g(t,a)&&b(t,a,r)&&++o}}catch(e){s.e(e)}finally{s.f()}return o}function S(e,t){var n,r=e.parentElement,i=f(e.querySelectorAll("[id]"));try{for(i.s();!(n=i.n()).done;)for(var o=n.value,s=o;s!==r&&null!=s;){var a=t.get(s);null==a&&(a=new Set,t.set(s,a)),a.add(o.id),s=s.parentElement}}catch(e){i.e(e)}finally{i.f()}}function E(e,t){var n=new Map;return S(e,n),S(t,n),n}return{morph:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof Document&&(e=e.documentElement),"string"==typeof r&&(r=function(e){var t=new DOMParser,n=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(n.match(/<\/html>/)||n.match(/<\/head>/)||n.match(/<\/body>/)){var r=t.parseFromString(e,"text/html");if(n.match(/<\/html>/))return r.generatedByIdiomorph=!0,r;var i=r.firstChild;return i?(i.generatedByIdiomorph=!0,i):null}var o=t.parseFromString("<body><template>"+e+"</template></body>","text/html").body.querySelector("template").content;return o.generatedByIdiomorph=!0,o}(r));var o=function(e){if(null==e)return document.createElement("div");if(e.generatedByIdiomorph)return e;if(e instanceof Node){var t=document.createElement("div");return t.append(e),t}for(var n=document.createElement("div"),r=0,i=T(e);r<i.length;r++){var o=i[r];n.append(o)}return n}(r),s=function(e,n,r){return r=function(e){var n={};return Object.assign(n,t),Object.assign(n,e),n.callbacks={},Object.assign(n.callbacks,t.callbacks),Object.assign(n.callbacks,e.callbacks),n.head={},Object.assign(n.head,t.head),Object.assign(n.head,e.head),n}(r),{target:e,newContent:n,config:r,morphStyle:r.morphStyle,ignoreActive:r.ignoreActive,ignoreActiveValue:r.ignoreActiveValue,idMap:E(e,n),deadIds:new Set,callbacks:r.callbacks,head:r.head}}(e,o,i);return n(e,o,s)},defaults:t}}();function vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.callbacks,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,I);pt.morph(e,t,k(k({},i),{},{callbacks:new gt(r)}))}function mt(e,t){vt(e,t.children,{morphStyle:"innerHTML"})}var yt=new WeakMap,gt=d((function e(){var t=this,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).beforeNodeMorphed;s(this,e),u(this,yt,void 0),p(this,"beforeNodeAdded",(function(e){return!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id))})),p(this,"beforeNodeMorphed",(function(e,n){if(e instanceof Element)return!(e.hasAttribute("data-turbo-permanent")||!a(yt,t).call(t,e,n))&&!D("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:n}}).defaultPrevented})),p(this,"beforeAttributeUpdated",(function(e,t,n){return!D("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:n}}).defaultPrevented})),p(this,"beforeNodeRemoved",(function(e){return t.beforeNodeMorphed(e)})),p(this,"afterNodeMorphed",(function(e,t){e instanceof Element&&D("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})})),c(yt,this,n||function(){return!0})})),bt=function(e){function t(){return s(this,t),i(this,t,arguments)}return y(t,e),d(t,[{key:"preservingPermanentElements",value:(n=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}],[{key:"renderElement",value:function(e,t){D("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),mt(e,t)}}]);var n}(ft),kt=function(){function e(){var t=this;s(this,e),p(this,"hiding",!1),p(this,"value",0),p(this,"visible",!1),p(this,"trickle",(function(){t.setValue(t.value+Math.random()/100)})),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}return d(e,[{key:"show",value:function(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}},{key:"hide",value:function(){var e=this;this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((function(){e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1})))}},{key:"setValue",value:function(e){this.value=e,this.refresh()}},{key:"installStylesheetElement",value:function(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}},{key:"installProgressElement",value:function(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}},{key:"fadeProgressElement",value:function(t){this.progressElement.style.opacity="0",setTimeout(t,1.5*e.animationDuration)}},{key:"uninstallProgressElement",value:function(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}},{key:"startTrickling",value:function(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,e.animationDuration))}},{key:"stopTrickling",value:function(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}},{key:"refresh",value:function(){var e=this;requestAnimationFrame((function(){e.progressElement.style.width="".concat(10+90*e.value,"%")}))}},{key:"createStylesheetElement",value:function(){var t=document.createElement("style");t.type="text/css",t.textContent=e.defaultCSS;var n=ne();return n&&(t.nonce=n),t}},{key:"createProgressElement",value:function(){var e=document.createElement("div");return e.className="turbo-progress-bar",e}}],[{key:"defaultCSS",get:function(){return G(M||(M=L(["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "])),e.animationDuration,e.animationDuration/2,e.animationDuration/2)}}])}();p(kt,"animationDuration",300);var wt=function(e){function t(){var e;s(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(e=i(this,t,[].concat(r)),"detailsByOuterHTML",e.children.filter((function(e){return!function(e){var t=e.localName;return"noscript"==t}(e)})).map((function(e){return function(e){e.hasAttribute("nonce")&&e.setAttribute("nonce","");return e}(e)})).reduce((function(e,t){var n=t.outerHTML,r=n in e?e[n]:{type:St(t),tracked:Et(t),elements:[]};return k(k({},e),{},p({},n,k(k({},r),{},{elements:[].concat(T(r.elements),[t])})))}),{})),e}return y(t,e),d(t,[{key:"trackedElementSignature",get:function(){var e=this;return Object.keys(this.detailsByOuterHTML).filter((function(t){return e.detailsByOuterHTML[t].tracked})).join("")}},{key:"getScriptElementsNotInSnapshot",value:function(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}},{key:"getStylesheetElementsNotInSnapshot",value:function(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}},{key:"getElementsMatchingTypeNotInSnapshot",value:function(e,t){var n=this;return Object.keys(this.detailsByOuterHTML).filter((function(e){return!(e in t.detailsByOuterHTML)})).map((function(e){return n.detailsByOuterHTML[e]})).filter((function(t){return t.type==e})).map((function(e){return E(e.elements,1)[0]}))}},{key:"provisionalElements",get:function(){var e=this;return Object.keys(this.detailsByOuterHTML).reduce((function(t,n){var r=e.detailsByOuterHTML[n],i=r.type,o=r.tracked,s=r.elements;return null!=i||o?s.length>1?[].concat(T(t),T(s.slice(1))):t:[].concat(T(t),T(s))}),[])}},{key:"getMetaValue",value:function(e){var t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}},{key:"findMetaElementByName",value:function(e){var t=this;return Object.keys(this.detailsByOuterHTML).reduce((function(n,r){var i=E(t.detailsByOuterHTML[r].elements,1)[0];return function(e,t){var n=e.localName;return"meta"==n&&e.getAttribute("name")==t}(i,e)?i:n}),0)}}])}(Ze);function St(e){return function(e){var t=e.localName;return"script"==t}(e)?"script":function(e){var t=e.localName;return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}(e)?"stylesheet":void 0}function Et(e){return"reload"==e.getAttribute("data-turbo-track")}var At=function(e){function t(e,n,r){var o;return s(this,t),(o=i(this,t,[n])).documentElement=e,o.headSnapshot=r,o}return y(t,e),d(t,[{key:"clone",value:function(){var e,n=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),i=n.querySelectorAll("select"),o=f(r.entries());try{for(o.s();!(e=o.n()).done;){var s,a=E(e.value,2),u=a[0],c=a[1],l=i[u],h=f(l.selectedOptions);try{for(h.s();!(s=h.n()).done;){s.value.selected=!1}}catch(e){h.e(e)}finally{h.f()}var d,p=f(c.selectedOptions);try{for(p.s();!(d=p.n()).done;){var v=d.value;l.options[v.index].selected=!0}}catch(e){p.e(e)}finally{p.f()}}}catch(e){o.e(e)}finally{o.f()}var m,y=f(n.querySelectorAll('input[type="password"]'));try{for(y.s();!(m=y.n()).done;){m.value.value=""}}catch(e){y.e(e)}finally{y.f()}return new t(this.documentElement,n,this.headSnapshot)}},{key:"lang",get:function(){return this.documentElement.getAttribute("lang")}},{key:"headElement",get:function(){return this.headSnapshot.element}},{key:"rootLocation",get:function(){var e;return ve(null!==(e=this.getSetting("root"))&&void 0!==e?e:"/")}},{key:"cacheControlValue",get:function(){return this.getSetting("cache-control")}},{key:"isPreviewable",get:function(){return"no-preview"!=this.cacheControlValue}},{key:"isCacheable",get:function(){return"no-cache"!=this.cacheControlValue}},{key:"isVisitable",get:function(){return"reload"!=this.getSetting("visit-control")}},{key:"prefersViewTransitions",get:function(){return"same-origin"===this.headSnapshot.getMetaValue("view-transition")}},{key:"shouldMorphPage",get:function(){return"morph"===this.getSetting("refresh-method")}},{key:"shouldPreserveScrollPosition",get:function(){return"preserve"===this.getSetting("refresh-scroll")}},{key:"getSetting",value:function(e){return this.headSnapshot.getMetaValue("turbo-".concat(e))}}],[{key:"fromHTMLString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.fromDocument(z(e))}},{key:"fromElement",value:function(e){return this.fromDocument(e.ownerDocument)}},{key:"fromDocument",value:function(e){var t=e.documentElement,n=e.body,r=e.head;return new this(t,n,new wt(r))}}])}(Ze),Lt=new WeakMap,Tt=new WeakMap,Rt=function(){return d((function e(){s(this,e),u(this,Lt,!1),u(this,Tt,Promise.resolve())}),[{key:"renderChange",value:function(e,t){return e&&this.viewTransitionsAvailable&&!a(Lt,this)?(c(Lt,this,!0),c(Tt,this,a(Tt,this).then(r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.startViewTransition(t).finished;case 2:case"end":return e.stop()}}),e)})))))):c(Tt,this,a(Tt,this).then(t)),a(Tt,this)}},{key:"viewTransitionsAvailable",get:function(){return document.startViewTransition}}])}(),Ct={action:"advance",historyChanged:!1,visitCachedSnapshot:function(){},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},xt="visitStart",Pt="requestStart",Mt="requestEnd",Ot="visitEnd",It="initialized",Ht="started",qt="canceled",Ft="failed",Nt="completed",Bt=0,Wt=-1,Dt=-2,jt={advance:"forward",restore:"back",replace:"none"},Vt=function(){return d((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(this,e),p(this,"identifier",J()),p(this,"timingMetrics",{}),p(this,"followedRedirect",!1),p(this,"historyChanged",!1),p(this,"scrolled",!1),p(this,"shouldCacheSnapshot",!0),p(this,"acceptsStreamResponse",!1),p(this,"snapshotCached",!1),p(this,"state",It),p(this,"viewTransitioner",new Rt),this.delegate=t,this.location=n,this.restorationIdentifier=r||J();var o=k(k({},Ct),i),a=o.action,u=o.historyChanged,c=o.referrer,l=o.snapshot,h=o.snapshotHTML,d=o.response,f=o.visitCachedSnapshot,v=o.willRender,m=o.updateHistory,y=o.shouldCacheSnapshot,g=o.acceptsStreamResponse,b=o.direction;this.action=a,this.historyChanged=u,this.referrer=c,this.snapshot=l,this.snapshotHTML=h,this.response=d,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=f,this.willRender=v,this.updateHistory=m,this.scrolled=!v,this.shouldCacheSnapshot=y,this.acceptsStreamResponse=g,this.direction=b||jt[a]}),[{key:"adapter",get:function(){return this.delegate.adapter}},{key:"view",get:function(){return this.delegate.view}},{key:"history",get:function(){return this.delegate.history}},{key:"restorationData",get:function(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}},{key:"silent",get:function(){return this.isSamePage}},{key:"start",value:function(){this.state==It&&(this.recordTimingMetric(xt),this.state=Ht,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}},{key:"cancel",value:function(){this.state==Ht&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=qt)}},{key:"complete",value:function(){this.state==Ht&&(this.recordTimingMetric(Ot),this.adapter.visitCompleted(this),this.state=Nt,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}},{key:"fail",value:function(){this.state==Ht&&(this.state=Ft,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}},{key:"changeHistory",value:function(){if(!this.historyChanged&&this.updateHistory){var e,t=Q(this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?"replace":this.action);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}},{key:"issueRequest",value:function(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Ie(this,Ce.get,this.location),this.request.perform())}},{key:"simulateRequest",value:function(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}},{key:"startRequest",value:function(){this.recordTimingMetric(Pt),this.adapter.visitRequestStarted(this)}},{key:"recordResponse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.response;if(this.response=e,e){var t=e.statusCode;_t(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}},{key:"finishRequest",value:function(){this.recordTimingMetric(Mt),this.adapter.visitRequestFinished(this)}},{key:"loadResponse",value:function(){var e=this;if(this.response){var t=this.response,n=t.statusCode,i=t.responseHTML;this.render(r(w().mark((function t(){var r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.shouldCacheSnapshot&&e.cacheSnapshot(),!e.view.renderPromise){t.next=4;break}return t.next=4,e.view.renderPromise;case 4:if(!_t(n)||null==i){t.next=12;break}return r=At.fromHTMLString(i),t.next=8,e.renderPageSnapshot(r,!1);case 8:e.adapter.visitRendered(e),e.complete(),t.next=16;break;case 12:return t.next=14,e.view.renderError(At.fromHTMLString(i),e);case 14:e.adapter.visitRendered(e),e.fail();case 16:case"end":return t.stop()}}),t)}))))}}},{key:"getCachedSnapshot",value:function(){var e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!me(this.location)||e.hasAnchor(me(this.location)))&&("restore"==this.action||e.isPreviewable))return e}},{key:"getPreloadedSnapshot",value:function(){if(this.snapshotHTML)return At.fromHTMLString(this.snapshotHTML)}},{key:"hasCachedSnapshot",value:function(){return null!=this.getCachedSnapshot()}},{key:"loadCachedSnapshot",value:function(){var e=this,t=this.getCachedSnapshot();if(t){var n=this.shouldIssueRequest();this.render(r(w().mark((function r(){return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.cacheSnapshot(),!e.isSamePage&&!e.isPageRefresh){r.next=5;break}e.adapter.visitRendered(e),r.next=12;break;case 5:if(!e.view.renderPromise){r.next=8;break}return r.next=8,e.view.renderPromise;case 8:return r.next=10,e.renderPageSnapshot(t,n);case 10:e.adapter.visitRendered(e),n||e.complete();case 12:case"end":return r.stop()}}),r)}))))}}},{key:"followRedirect",value:function(){var e;this.redirectedToLocation&&!this.followedRedirect&&null!==(e=this.response)&&void 0!==e&&e.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}},{key:"goToSamePageAnchor",value:function(){var e=this;this.isSamePage&&this.render(r(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.cacheSnapshot(),e.performScroll(),e.changeHistory(),e.adapter.visitRendered(e);case 4:case"end":return t.stop()}}),t)}))))}},{key:"prepareRequest",value:function(e){this.acceptsStreamResponse&&e.acceptResponseType(Ve.contentType)}},{key:"requestStarted",value:function(){this.startRequest()}},{key:"requestPreventedHandlingResponse",value:function(e,t){}},{key:"requestSucceededWithResponse",value:(i=r(w().mark((function e(t,n){var r,i,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.responseHTML;case 2:r=e.sent,i=n.redirected,o=n.statusCode,null==r?this.recordResponse({statusCode:Dt,redirected:i}):(this.redirectedToLocation=n.redirected?n.location:void 0,this.recordResponse({statusCode:o,responseHTML:r,redirected:i}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"requestFailedWithResponse",value:(n=r(w().mark((function e(t,n){var r,i,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.responseHTML;case 2:r=e.sent,i=n.redirected,o=n.statusCode,null==r?this.recordResponse({statusCode:Dt,redirected:i}):this.recordResponse({statusCode:o,responseHTML:r,redirected:i});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"requestErrored",value:function(e,t){this.recordResponse({statusCode:Bt,redirected:!1})}},{key:"requestFinished",value:function(){this.finishRequest()}},{key:"performScroll",value:function(){this.scrolled||this.view.forceReloaded||this.view.shouldPreserveScrollPosition(this)||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}},{key:"scrollToRestoredPosition",value:function(){var e=this.restorationData.scrollPosition;if(e)return this.view.scrollToPosition(e),!0}},{key:"scrollToAnchor",value:function(){var e=me(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0}},{key:"recordTimingMetric",value:function(e){this.timingMetrics[e]=(new Date).getTime()}},{key:"getTimingMetrics",value:function(){return k({},this.timingMetrics)}},{key:"getHistoryMethodForAction",value:function(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}},{key:"hasPreloadedResponse",value:function(){return"object"==C(this.response)}},{key:"shouldIssueRequest",value:function(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}},{key:"cacheSnapshot",value:function(){var e=this;this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then((function(t){return t&&e.visitCachedSnapshot(t)})),this.snapshotCached=!0)}},{key:"render",value:(t=r(w().mark((function e(t){var n=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cancelRender(),e.next=3,new Promise((function(e){n.frame="hidden"===document.visibilityState?setTimeout((function(){return e()}),0):requestAnimationFrame((function(){return e()}))}));case 3:return e.next=5,t();case 5:delete this.frame;case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"renderPageSnapshot",value:(e=r(w().mark((function e(t,n){var i=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewTransitioner.renderChange(this.view.shouldTransitionTo(t),r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.view.renderPage(t,n,i.willRender,i);case 2:i.performScroll();case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"cancelRender",value:function(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}]);var e,t,n,i}();function _t(e){return e>=200&&e<300}var Ut=function(){return d((function e(t){var n=this;s(this,e),p(this,"progressBar",new kt),p(this,"showProgressBar",(function(){n.progressBar.show()})),this.session=t}),[{key:"visitProposedToLocation",value:function(e,t){ke(e,this.navigator.rootLocation)?this.navigator.startVisit(e,(null==t?void 0:t.restorationIdentifier)||J(),t):window.location.href=e.toString()}},{key:"visitStarted",value:function(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}},{key:"visitRequestStarted",value:function(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}},{key:"visitRequestCompleted",value:function(e){e.loadResponse()}},{key:"visitRequestFailedWithStatusCode",value:function(e,t){switch(t){case Bt:case Wt:case Dt:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}},{key:"visitRequestFinished",value:function(e){}},{key:"visitCompleted",value:function(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}},{key:"pageInvalidated",value:function(e){this.reload(e)}},{key:"visitFailed",value:function(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}},{key:"visitRendered",value:function(e){}},{key:"formSubmissionStarted",value:function(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}},{key:"formSubmissionFinished",value:function(e){this.progressBar.setValue(1),this.hideFormProgressBar()}},{key:"showVisitProgressBarAfterDelay",value:function(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}},{key:"hideVisitProgressBar",value:function(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}},{key:"showFormProgressBarAfterDelay",value:function(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}},{key:"hideFormProgressBar",value:function(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}},{key:"reload",value:function(e){var t;D("turbo:reload",{detail:e}),window.location.href=(null===(t=this.location)||void 0===t?void 0:t.toString())||window.location.href}},{key:"navigator",get:function(){return this.session.navigator}}])}(),zt=function(){return d((function e(){var t=this;s(this,e),p(this,"selector","[data-turbo-temporary]"),p(this,"deprecatedSelector","[data-turbo-cache=false]"),p(this,"started",!1),p(this,"removeTemporaryElements",(function(e){var n,r=f(t.temporaryElements);try{for(r.s();!(n=r.n()).done;){n.value.remove()}}catch(e){r.e(e)}finally{r.f()}}))}),[{key:"start",value:function(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}},{key:"stop",value:function(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}},{key:"temporaryElements",get:function(){return[].concat(T(document.querySelectorAll(this.selector)),T(this.temporaryElementsWithDeprecation))}},{key:"temporaryElementsWithDeprecation",get:function(){var e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn("The ".concat(this.deprecatedSelector," selector is deprecated and will be removed in a future version. Use ").concat(this.selector," instead.")),T(e)}}])}(),Gt=new WeakSet,Jt=function(){return d((function e(t,n){s(this,e),l(this,Gt),this.session=t,this.element=n,this.linkInterceptor=new at(this,n),this.formSubmitObserver=new nt(this,n)}),[{key:"start",value:function(){this.linkInterceptor.start(),this.formSubmitObserver.start()}},{key:"stop",value:function(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}},{key:"shouldInterceptLinkClick",value:function(e,n,r){return t(Gt,this,Kt).call(this,e)}},{key:"linkClickIntercepted",value:function(e,n,r){var i=t(Gt,this,Yt).call(this,e);i&&i.delegate.linkClickIntercepted(e,n,r)}},{key:"willSubmitForm",value:function(e,n){return null==e.closest("turbo-frame")&&t(Gt,this,Xt).call(this,e,n)&&t(Gt,this,Kt).call(this,e,n)}},{key:"formSubmitted",value:function(e,n){var r=t(Gt,this,Yt).call(this,e,n);r&&r.delegate.formSubmitted(e,n)}}])}();function Xt(e,n){var r,i=ye(e,n),o=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=ve(null!==(r=null==o?void 0:o.content)&&void 0!==r?r:"/");return t(Gt,this,Kt).call(this,e,n)&&ke(i,s)}function Kt(e,n){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,n):this.session.elementIsNavigatable(e)){var r=t(Gt,this,Yt).call(this,e,n);return!!r&&r!=e.closest("turbo-frame")}return!1}function Yt(e,t){var n=(null==t?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(n&&"_top"!=n){var r=this.element.querySelector("#".concat(n,":not([disabled])"));if(r instanceof N)return r}}var $t=function(){return d((function e(t){var n=this;s(this,e),p(this,"location",void 0),p(this,"restorationIdentifier",J()),p(this,"restorationData",{}),p(this,"started",!1),p(this,"pageLoaded",!1),p(this,"currentIndex",0),p(this,"onPopState",(function(e){if(n.shouldHandlePopState()){var t=(e.state||{}).turbo;if(t){n.location=new URL(window.location.href);var r=t.restorationIdentifier,i=t.restorationIndex;n.restorationIdentifier=r;var o=i>n.currentIndex?"forward":"back";n.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(n.location,r,o),n.currentIndex=i}}})),p(this,"onPageLoad",function(){var e=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:n.pageLoaded=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.delegate=t}),[{key:"start",value:function(){var e;this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=(null===(e=history.state)||void 0===e||null===(e=e.turbo)||void 0===e?void 0:e.restorationIndex)||0,this.started=!0,this.replace(new URL(window.location.href)))}},{key:"stop",value:function(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}},{key:"push",value:function(e,t){this.update(history.pushState,e,t)}},{key:"replace",value:function(e,t){this.update(history.replaceState,e,t)}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J();e===history.pushState&&++this.currentIndex;var r={turbo:{restorationIdentifier:n,restorationIndex:this.currentIndex}};e.call(history,r,"",t.href),this.location=t,this.restorationIdentifier=n}},{key:"getRestorationDataForIdentifier",value:function(e){return this.restorationData[e]||{}}},{key:"updateRestorationData",value:function(e){var t=this.restorationIdentifier,n=this.restorationData[t];this.restorationData[t]=k(k({},n),e)}},{key:"assumeControlOfScrollRestoration",value:function(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&&void 0!==e?e:"auto",history.scrollRestoration="manual")}},{key:"relinquishControlOfScrollRestoration",value:function(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}},{key:"shouldHandlePopState",value:function(){return this.pageIsLoaded()}},{key:"pageIsLoaded",value:function(){return this.pageLoaded||"complete"==document.readyState}}])}(),Qt=new WeakMap,Zt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakSet,sn=function(){return d((function e(n,r){var i=this;s(this,e),l(this,on),p(this,"started",!1),u(this,Qt,null),u(this,Zt,(function(){i.eventTarget.addEventListener("mouseenter",a(en,i),{capture:!0,passive:!0}),i.eventTarget.addEventListener("mouseleave",a(tn,i),{capture:!0,passive:!0}),i.eventTarget.addEventListener("turbo:before-fetch-request",a(rn,i),!0),i.started=!0})),u(this,en,(function(e){if("false"!==te("turbo-prefetch")){var n=e.target;if(n.matches&&n.matches("a[href]:not([target^=_]):not([download])")&&t(on,i,un).call(i,n)){var r=n,o=le(r);if(i.delegate.canPrefetchRequestToLocation(r,o)){c(Qt,i,r);var s=new Ie(i,Ce.get,o,new URLSearchParams,n);ze.setLater(o.toString(),s,an(t(on,i)))}}}})),u(this,tn,(function(e){e.target===a(Qt,i)&&a(nn,i).call(i)})),u(this,nn,(function(){ze.clear(),c(Qt,i,null)})),u(this,rn,(function(e){if("FORM"!==e.target.tagName&&"GET"===e.detail.fetchOptions.method){var t=ze.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),ze.clear()}})),this.delegate=n,this.eventTarget=r}),[{key:"start",value:function(){this.started||("loading"===this.eventTarget.readyState?this.eventTarget.addEventListener("DOMContentLoaded",a(Zt,this),{once:!0}):a(Zt,this).call(this))}},{key:"stop",value:function(){this.started&&(this.eventTarget.removeEventListener("mouseenter",a(en,this),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",a(tn,this),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",a(rn,this),!0),this.started=!1)}},{key:"prepareRequest",value:function(e){var t=e.target;e.headers["X-Sec-Purpose"]="prefetch";var n=t.closest("turbo-frame"),r=t.getAttribute("data-turbo-frame")||(null==n?void 0:n.getAttribute("target"))||(null==n?void 0:n.id);r&&"_top"!==r&&(e.headers["Turbo-Frame"]=r)}},{key:"requestSucceededWithResponse",value:function(){}},{key:"requestStarted",value:function(e){}},{key:"requestErrored",value:function(e){}},{key:"requestFinished",value:function(e){}},{key:"requestPreventedHandlingResponse",value:function(e,t){}},{key:"requestFailedWithResponse",value:function(e,t){}}])}();function an(e){return Number(te("turbo-prefetch-cache-time"))||1e4}function un(e){return!!e.getAttribute("href")&&(!cn(e)&&(!ln(e)&&(!hn(e)&&(!dn(e)&&!pn(e)))))}var cn=function(e){return e.origin!==document.location.origin||!["http:","https:"].includes(e.protocol)||e.hasAttribute("target")},ln=function(e){return e.pathname+e.search===document.location.pathname+document.location.search||e.href.startsWith("#")},hn=function(e){if("false"===e.getAttribute("data-turbo-prefetch"))return!0;if("false"===e.getAttribute("data-turbo"))return!0;var t=re(e,"[data-turbo-prefetch]");return!(!t||"false"!==t.getAttribute("data-turbo-prefetch"))},dn=function(e){var t=e.getAttribute("data-turbo-method");return!(!t||"get"===t.toLowerCase())||(!!fn(e)||(!!e.hasAttribute("data-turbo-confirm")||!!e.hasAttribute("data-turbo-stream")))},fn=function(e){return e.hasAttribute("data-remote")||e.hasAttribute("data-behavior")||e.hasAttribute("data-confirm")||e.hasAttribute("data-method")},pn=function(e){return D("turbo:before-prefetch",{target:e,cancelable:!0}).defaultPrevented},vn=new WeakSet,mn=function(){return d((function e(t){s(this,e),l(this,vn),this.delegate=t}),[{key:"proposeVisit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}},{key:"startVisit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.stop(),this.currentVisit=new Vt(this,ve(e),t,k({referrer:this.location},n)),this.currentVisit.start()}},{key:"submitForm",value:function(e,t){this.stop(),this.formSubmission=new Qe(this,e,t,!0),this.formSubmission.start()}},{key:"stop",value:function(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}},{key:"adapter",get:function(){return this.delegate.adapter}},{key:"view",get:function(){return this.delegate.view}},{key:"rootLocation",get:function(){return this.view.snapshot.rootLocation}},{key:"history",get:function(){return this.delegate.history}},{key:"formSubmissionStarted",value:function(e){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(e)}},{key:"formSubmissionSucceededWithResponse",value:(n=r(w().mark((function e(n,r){var i,o,s,a,u,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!=this.formSubmission){e.next=5;break}return e.next=3,r.responseHTML;case 3:(i=e.sent)&&((o=n.isSafe)||this.view.clearSnapshotCache(),s=r.statusCode,a=r.redirected,u=t(vn,this,yn).call(this,n,r),c={action:u,shouldCacheSnapshot:o,response:{statusCode:s,responseHTML:i,redirected:a}},this.proposeVisit(r.location,c));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"formSubmissionFailedWithResponse",value:(e=r(w().mark((function e(t,n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.responseHTML;case 2:if(!(r=e.sent)){e.next=14;break}if(i=At.fromHTMLString(r),!n.serverError){e.next=10;break}return e.next=8,this.view.renderError(i,this.currentVisit);case 8:e.next=12;break;case 10:return e.next=12,this.view.renderPage(i,!1,!0,this.currentVisit);case 12:i.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache();case 14:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"formSubmissionErrored",value:function(e,t){console.error(t)}},{key:"formSubmissionFinished",value:function(e){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(e)}},{key:"visitStarted",value:function(e){this.delegate.visitStarted(e)}},{key:"visitCompleted",value:function(e){this.delegate.visitCompleted(e),delete this.currentVisit}},{key:"locationWithActionIsSamePage",value:function(e,t){var n=me(e),r=me(this.view.lastRenderedLocation),i="restore"===t&&void 0===n;return"replace"!==t&&we(e)===we(this.view.lastRenderedLocation)&&(i||null!=n&&n!==r)}},{key:"visitScrolledToSamePageLocation",value:function(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}},{key:"location",get:function(){return this.history.location}},{key:"restorationIdentifier",get:function(){return this.history.restorationIdentifier}}]);var e,n}();function yn(e,n){return Z(e.submitter,e.formElement)||t(vn,this,gn).call(this,n)}function gn(e){var t;return e.redirected&&e.location.href===(null===(t=this.location)||void 0===t?void 0:t.href)?"replace":"advance"}var bn=0,kn=1,wn=2,Sn=3,En=function(){return d((function e(t){var n=this;s(this,e),p(this,"stage",bn),p(this,"started",!1),p(this,"interpretReadyState",(function(){var e=n.readyState;"interactive"==e?n.pageIsInteractive():"complete"==e&&n.pageIsComplete()})),p(this,"pageWillUnload",(function(){n.delegate.pageWillUnload()})),this.delegate=t}),[{key:"start",value:function(){this.started||(this.stage==bn&&(this.stage=kn),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}},{key:"stop",value:function(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}},{key:"pageIsInteractive",value:function(){this.stage==kn&&(this.stage=wn,this.delegate.pageBecameInteractive())}},{key:"pageIsComplete",value:function(){this.pageIsInteractive(),this.stage==wn&&(this.stage=Sn,this.delegate.pageLoaded())}},{key:"readyState",get:function(){return document.readyState}}])}(),An=function(){return d((function e(t){var n=this;s(this,e),p(this,"started",!1),p(this,"onScroll",(function(){n.updatePosition({x:window.pageXOffset,y:window.pageYOffset})})),this.delegate=t}),[{key:"start",value:function(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}},{key:"stop",value:function(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}},{key:"updatePosition",value:function(e){this.delegate.scrollPositionChanged(e)}}])}(),Ln=function(){return d((function e(){s(this,e)}),[{key:"render",value:function(e){var t=e.fragment;lt.preservingPermanentElements(this,function(e){var t,n=tt(document.documentElement),r={},i=f(n);try{for(i.s();!(t=i.n()).done;){var o,s=t.value,a=s.id,u=f(e.querySelectorAll("turbo-stream"));try{for(u.s();!(o=u.n()).done;){var c=et(o.value.templateElement.content,a);c&&(r[a]=[s,c])}}catch(e){u.e(e)}finally{u.f()}}}catch(e){i.e(e)}finally{i.f()}return r}(t),(function(){!function(e,t){Tn.apply(this,arguments)}(t,(function(){!function(e){Rn.apply(this,arguments)}((function(){document.documentElement.appendChild(t)}))}))}))}},{key:"enteringBardo",value:function(e,t){t.replaceWith(e.cloneNode(!0))}},{key:"leavingBardo",value:function(){}}])}();function Tn(){return(Tn=r(w().mark((function e(t,n){var r,i,o,s,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="turbo-stream-autofocus-".concat(J()),i=t.querySelectorAll("turbo-stream"),o=Cn(i),s=null,o&&(s=o.id?o.id:r,o.id=s),n(),e.next=8,V();case 8:(null==document.activeElement||document.activeElement==document.body)&&s&&(ie(a=document.getElementById(s))&&a.focus(),a&&a.id==r&&a.removeAttribute("id"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(){return(Rn=r(w().mark((function e(t){var n,r,i,o,s,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t,(function(){return document.activeElement}));case 2:n=e.sent,r=E(n,2),i=r[0],o=r[1],(s=i&&i.id)&&ie(a=document.getElementById(s))&&a!=o&&a.focus();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=oe(t.value.templateElement.content);if(r)return r}}catch(e){n.e(e)}finally{n.f()}return null}var xn=new WeakMap,Pn=function(){return d((function e(t){var n=this;s(this,e),p(this,"sources",new Set),u(this,xn,!1),p(this,"inspectFetchResponse",(function(e){var t=function(e){var t,n=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(n instanceof Ee)return n}(e);t&&function(e){var t,n=null!==(t=e.contentType)&&void 0!==t?t:"";return n.startsWith(Ve.contentType)}(t)&&(e.preventDefault(),n.receiveMessageResponse(t))})),p(this,"receiveMessageEvent",(function(e){a(xn,n)&&"string"==typeof e.data&&n.receiveMessageHTML(e.data)})),this.delegate=t}),[{key:"start",value:function(){a(xn,this)||(c(xn,this,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}},{key:"stop",value:function(){a(xn,this)&&(c(xn,this,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}},{key:"connectStreamSource",value:function(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}},{key:"disconnectStreamSource",value:function(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}},{key:"streamSourceIsConnected",value:function(e){return this.sources.has(e)}},{key:"receiveMessageResponse",value:(e=r(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.responseHTML;case 2:(n=e.sent)&&this.receiveMessageHTML(n);case 4:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"receiveMessageHTML",value:function(e){this.delegate.receivedMessageFromStream(Ve.wrap(e))}}]);var e}();var Mn=function(e){function t(){return s(this,t),i(this,t,arguments)}return y(t,e),d(t,[{key:"render",value:(n=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.replaceHeadAndBody(),this.activateScriptElements();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"replaceHeadAndBody",value:function(){var e=document,t=e.documentElement,n=e.head;t.replaceChild(this.newHead,n),this.renderElement(this.currentElement,this.newElement)}},{key:"activateScriptElements",value:function(){var e,t=f(this.scriptElements);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.parentNode;if(r){var i=W(n);r.replaceChild(i,n)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"newHead",get:function(){return this.newSnapshot.headSnapshot.element}},{key:"scriptElements",get:function(){return document.documentElement.querySelectorAll("script")}}],[{key:"renderElement",value:function(e,t){var n=document,r=n.documentElement,i=n.body;r.replaceChild(t,i)}}]);var n}(dt),On=new WeakSet,In=function(e){function n(){var e;s(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return l(e=i(this,n,[].concat(r)),On),e}return y(n,e),d(n,[{key:"shouldRender",get:function(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}},{key:"reloadReason",get:function(){return this.newSnapshot.isVisitable?this.trackedElementsAreIdentical?void 0:{reason:"tracked_element_mismatch"}:{reason:"turbo_visit_control_is_reload"}}},{key:"prepareToRender",value:(v=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(On,this,Hn).call(this),e.next=3,this.mergeHead();case 3:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"render",value:(p=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.willRender){e.next=3;break}return e.next=3,this.replaceBody();case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"finishRendering",value:function(){A(n,"finishRendering",this)([]),this.isPreview||this.focusFirstAutofocusableElement()}},{key:"currentHeadSnapshot",get:function(){return this.currentSnapshot.headSnapshot}},{key:"newHeadSnapshot",get:function(){return this.newSnapshot.headSnapshot}},{key:"newElement",get:function(){return this.newSnapshot.element}},{key:"mergeHead",value:(h=r(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mergeProvisionalElements(),n=this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),e.next=5,t;case 5:return e.next=7,n;case 7:this.willRender&&this.removeUnusedDynamicStylesheetElements();case 8:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"replaceBody",value:(c=r(w().mark((function e(){var t=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preservingPermanentElements(r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.activateNewBody(),e.next=3,t.assignNewBody();case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"trackedElementsAreIdentical",get:function(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}},{key:"copyNewHeadStylesheetElements",value:(u=r(w().mark((function e(){var t,n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=f(this.newHeadStylesheetElements);try{for(n.s();!(r=n.n()).done;)i=r.value,t.push($(i)),document.head.appendChild(i)}catch(e){n.e(e)}finally{n.f()}return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"copyNewHeadScriptElements",value:function(){var e,t=f(this.newHeadScriptElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;document.head.appendChild(W(n))}}catch(e){t.e(e)}finally{t.f()}}},{key:"removeUnusedDynamicStylesheetElements",value:function(){var e,t=f(this.unusedDynamicStylesheetElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;document.head.removeChild(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"mergeProvisionalElements",value:(a=r(w().mark((function e(){var t,n,r,i,o,s,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=T(this.newHeadProvisionalElements),n=f(this.currentHeadProvisionalElements);try{for(n.s();!(r=n.n()).done;)i=r.value,this.isCurrentElementInElementList(i,t)||document.head.removeChild(i)}catch(e){n.e(e)}finally{n.f()}o=f(t);try{for(o.s();!(s=o.n()).done;)a=s.value,document.head.appendChild(a)}catch(e){o.e(e)}finally{o.f()}case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"isCurrentElementInElementList",value:function(e,t){var n,r=f(t.entries());try{for(r.s();!(n=r.n()).done;){var i=E(n.value,2),o=i[0],s=i[1];if("TITLE"==e.tagName){if("TITLE"!=s.tagName)continue;if(e.innerHTML==s.innerHTML)return t.splice(o,1),!0}if(s.isEqualNode(e))return t.splice(o,1),!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"removeCurrentHeadProvisionalElements",value:function(){var e,t=f(this.currentHeadProvisionalElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;document.head.removeChild(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"copyNewHeadProvisionalElements",value:function(){var e,t=f(this.newHeadProvisionalElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;document.head.appendChild(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"activateNewBody",value:function(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}},{key:"activateNewBodyScriptElements",value:function(){var e,t=f(this.newBodyScriptElements);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=W(n);n.replaceWith(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"assignNewBody",value:(o=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderElement(this.currentElement,this.newElement);case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"unusedDynamicStylesheetElements",get:function(){return this.oldHeadStylesheetElements.filter((function(e){return"dynamic"===e.getAttribute("data-turbo-track")}))}},{key:"oldHeadStylesheetElements",get:function(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}},{key:"newHeadStylesheetElements",get:function(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}},{key:"newHeadScriptElements",get:function(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}},{key:"currentHeadProvisionalElements",get:function(){return this.currentHeadSnapshot.provisionalElements}},{key:"newHeadProvisionalElements",get:function(){return this.newHeadSnapshot.provisionalElements}},{key:"newBodyScriptElements",get:function(){return this.newElement.querySelectorAll("script")}}],[{key:"renderElement",value:function(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}}]);var o,a,u,c,h,p,v}(dt);function Hn(){var e=this.currentSnapshot.documentElement,t=this.newSnapshot.lang;t?e.setAttribute("lang",t):e.removeAttribute("lang")}var qn=function(e){function t(){return s(this,t),i(this,t,arguments)}return y(t,e),d(t,[{key:"preservingPermanentElements",value:(n=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"renderMethod",get:function(){return"morph"}},{key:"shouldAutofocus",get:function(){return!1}}],[{key:"renderElement",value:function(e,t){vt(e,t,{callbacks:{beforeNodeMorphed:function(e){return!Fn(e)}}});var n,r=f(e.querySelectorAll("turbo-frame"));try{for(r.s();!(n=r.n()).done;){var i=n.value;Fn(i)&&i.reload()}}catch(e){r.e(e)}finally{r.f()}D("turbo:morph",{detail:{currentElement:e,newElement:t}})}}]);var n}(In);function Fn(e){return e instanceof N&&e.src&&"morph"===e.refresh&&!e.closest("[data-turbo-permanent]")}var Nn=function(){return d((function e(t){s(this,e),p(this,"keys",[]),p(this,"snapshots",{}),this.size=t}),[{key:"has",value:function(e){return Se(e)in this.snapshots}},{key:"get",value:function(e){if(this.has(e)){var t=this.read(e);return this.touch(e),t}}},{key:"put",value:function(e,t){return this.write(e,t),this.touch(e),t}},{key:"clear",value:function(){this.snapshots={}}},{key:"read",value:function(e){return this.snapshots[Se(e)]}},{key:"write",value:function(e,t){this.snapshots[Se(e)]=t}},{key:"touch",value:function(e){var t=Se(e),n=this.keys.indexOf(t);n>-1&&this.keys.splice(n,1),this.keys.unshift(t),this.trim()}},{key:"trim",value:function(){var e,t=f(this.keys.splice(this.size));try{for(t.s();!(e=t.n()).done;){var n=e.value;delete this.snapshots[n]}}catch(e){t.e(e)}finally{t.f()}}}])}(),Bn=function(e){function t(){var e;s(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(e=i(this,t,[].concat(r)),"snapshotCache",new Nn(10)),p(e,"lastRenderedLocation",new URL(location.href)),p(e,"forceReloaded",!1),e}return y(t,e),d(t,[{key:"shouldTransitionTo",value:function(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}},{key:"renderPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=new(this.isPageRefresh(r)&&this.snapshot.shouldMorphPage?qn:In)(this.snapshot,e,t,n);return i.shouldRender?null==r||r.changeHistory():this.forceReloaded=!0,this.render(i)}},{key:"renderError",value:function(e,t){null==t||t.changeHistory();var n=new Mn(this.snapshot,e,!1);return this.render(n)}},{key:"clearSnapshotCache",value:function(){this.snapshotCache.clear()}},{key:"cacheSnapshot",value:(n=r(w().mark((function e(){var t,n,r,i=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=i.length>0&&void 0!==i[0]?i[0]:this.snapshot).isCacheable){e.next=9;break}return this.delegate.viewWillCacheSnapshot(),n=this.lastRenderedLocation,e.next=6,U();case 6:return r=t.clone(),this.snapshotCache.put(n,r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getCachedSnapshotForLocation",value:function(e){return this.snapshotCache.get(e)}},{key:"isPageRefresh",value:function(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&"replace"===e.action}},{key:"shouldPreserveScrollPosition",value:function(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}},{key:"snapshot",get:function(){return At.fromElement(this.element)}}]);var n}(ot),Wn=new WeakMap,Dn=function(){return d((function e(t,n){var r=this;s(this,e),p(this,"selector","a[data-turbo-preload]"),u(this,Wn,(function(){r.preloadOnLoadLinksForView(document.body)})),this.delegate=t,this.snapshotCache=n}),[{key:"start",value:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a(Wn,this)):this.preloadOnLoadLinksForView(document.body)}},{key:"stop",value:function(){document.removeEventListener("DOMContentLoaded",a(Wn,this))}},{key:"preloadOnLoadLinksForView",value:function(e){var t,n=f(e.querySelectorAll(this.selector));try{for(n.s();!(t=n.n()).done;){var r=t.value;this.delegate.shouldPreloadLink(r)&&this.preloadURL(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"preloadURL",value:(t=r(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new URL(t.href),!this.snapshotCache.has(n)){e.next=3;break}return e.abrupt("return");case 3:return r=new Ie(this,Ce.get,n,new URLSearchParams,t),e.next=6,r.perform();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"prepareRequest",value:function(e){e.headers["X-Sec-Purpose"]="prefetch"}},{key:"requestSucceededWithResponse",value:(e=r(w().mark((function e(t,n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.responseHTML;case 3:r=e.sent,i=At.fromHTMLString(r),this.snapshotCache.put(t.url,i),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(t,n){return e.apply(this,arguments)})},{key:"requestStarted",value:function(e){}},{key:"requestErrored",value:function(e){}},{key:"requestFinished",value:function(e){}},{key:"requestPreventedHandlingResponse",value:function(e,t){}},{key:"requestFailedWithResponse",value:function(e,t){}}]);var e,t}(),jn=new WeakSet,Vn=function(){return d((function e(t){s(this,e),l(this,jn),this.session=t}),[{key:"clear",value:function(){this.session.clearCache()}},{key:"resetCacheControl",value:function(){t(jn,this,_n).call(this,"")}},{key:"exemptPageFromCache",value:function(){t(jn,this,_n).call(this,"no-cache")}},{key:"exemptPageFromPreview",value:function(){t(jn,this,_n).call(this,"no-preview")}}])}();function _n(e){var t,n,r;n=e,(r=ee(t="turbo-cache-control"))||((r=document.createElement("meta")).setAttribute("name",t),document.head.appendChild(r)),r.setAttribute("content",n)}var Un=new WeakMap,zn=function(){return d((function e(t){s(this,e),p(this,"navigator",new mn(this)),p(this,"history",new $t(this)),p(this,"view",new Bn(this,document.documentElement)),p(this,"adapter",new Ut(this)),p(this,"pageObserver",new En(this)),p(this,"cacheObserver",new zt),p(this,"linkPrefetchObserver",new sn(this,document)),p(this,"linkClickObserver",new ut(this,window)),p(this,"formSubmitObserver",new nt(this,document)),p(this,"scrollObserver",new An(this)),p(this,"streamObserver",new Pn(this)),p(this,"formLinkClickObserver",new ct(this,document.documentElement)),p(this,"frameRedirector",new Jt(this,document.documentElement)),p(this,"streamMessageRenderer",new Ln),p(this,"cache",new Vn(this)),p(this,"enabled",!0),p(this,"started",!1),u(this,Un,150),this.recentRequests=t,this.preloader=new Dn(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}),[{key:"start",value:function(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}},{key:"disable",value:function(){this.enabled=!1}},{key:"stop",value:function(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}},{key:"registerAdapter",value:function(e){this.adapter=e}},{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.frame?document.getElementById(t.frame):null;if(n instanceof N){var r=t.action||Z(n);n.delegate.proposeVisitIfNavigatedWithAction(n,r),n.src=e.toString()}else this.navigator.proposeVisit(ve(e),t)}},{key:"refresh",value:function(e,t){t&&this.recentRequests.has(t)||this.navigator.currentVisit||this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}},{key:"connectStreamSource",value:function(e){this.streamObserver.connectStreamSource(e)}},{key:"disconnectStreamSource",value:function(e){this.streamObserver.disconnectStreamSource(e)}},{key:"renderStreamMessage",value:function(e){this.streamMessageRenderer.render(Ve.wrap(e))}},{key:"clearCache",value:function(){this.view.clearSnapshotCache()}},{key:"setProgressBarDelay",value:function(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}},{key:"progressBarDelay",get:function(){return pe.drive.progressBarDelay},set:function(e){pe.drive.progressBarDelay=e}},{key:"drive",get:function(){return pe.drive.enabled},set:function(e){pe.drive.enabled=e}},{key:"formMode",get:function(){return pe.forms.mode},set:function(e){pe.forms.mode=e}},{key:"location",get:function(){return this.history.location}},{key:"restorationIdentifier",get:function(){return this.history.restorationIdentifier}},{key:"pageRefreshDebouncePeriod",get:function(){return a(Un,this)},set:function(e){this.refresh=function(e,t){var n=this,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];clearTimeout(r),r=setTimeout((function(){return e.apply(n,o)}),t)}}(this.debouncedRefresh.bind(this),e),c(Un,this,e)}},{key:"shouldPreloadLink",value:function(e){var t=e.hasAttribute("data-turbo-method"),n=e.hasAttribute("data-turbo-stream"),r=e.getAttribute("data-turbo-frame"),i="_top"==r?null:document.getElementById(r)||re(e,"turbo-frame:not([disabled])");if(t||n||i instanceof N)return!1;var o=new URL(e.href);return this.elementIsNavigatable(e)&&ke(o,this.snapshot.rootLocation)}},{key:"historyPoppedToLocationWithRestorationIdentifierAndDirection",value:function(e,t,n){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:n}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}},{key:"scrollPositionChanged",value:function(e){this.history.updateRestorationData({scrollPosition:e})}},{key:"willSubmitFormLinkToLocation",value:function(e,t){return this.elementIsNavigatable(e)&&ke(t,this.snapshot.rootLocation)}},{key:"submittedFormLinkToLocation",value:function(){}},{key:"canPrefetchRequestToLocation",value:function(e,t){return this.elementIsNavigatable(e)&&ke(t,this.snapshot.rootLocation)}},{key:"willFollowLinkToLocation",value:function(e,t,n){return this.elementIsNavigatable(e)&&ke(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,n)}},{key:"followedLinkToLocation",value:function(e,t){var n=this.getActionForLink(e),r=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:n,acceptsStreamResponse:r})}},{key:"allowsVisitingLocationWithAction",value:function(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}},{key:"visitProposedToLocation",value:function(e,t){Gn(e),this.adapter.visitProposedToLocation(e,t)}},{key:"visitStarted",value:function(e){e.acceptsStreamResponse||(K(document.documentElement),this.view.markVisitDirection(e.direction)),Gn(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}},{key:"visitCompleted",value:function(e){this.view.unmarkVisitDirection(),Y(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}},{key:"locationWithActionIsSamePage",value:function(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}},{key:"visitScrolledToSamePageLocation",value:function(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}},{key:"willSubmitForm",value:function(e,t){var n=ye(e,t);return this.submissionIsNavigatable(e,t)&&ke(ve(n),this.snapshot.rootLocation)}},{key:"formSubmitted",value:function(e,t){this.navigator.submitForm(e,t)}},{key:"pageBecameInteractive",value:function(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}},{key:"pageLoaded",value:function(){this.history.assumeControlOfScrollRestoration()}},{key:"pageWillUnload",value:function(){this.history.relinquishControlOfScrollRestoration()}},{key:"receivedMessageFromStream",value:function(e){this.renderStreamMessage(e)}},{key:"viewWillCacheSnapshot",value:function(){var e;null!==(e=this.navigator.currentVisit)&&void 0!==e&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}},{key:"allowsImmediateRender",value:function(e,t){var n=e.element,r=this.notifyApplicationBeforeRender(n,t),i=r.defaultPrevented,o=r.detail.render;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!i}},{key:"viewRenderedSnapshot",value:function(e,t,n){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(n)}},{key:"preloadOnLoadLinksForView",value:function(e){this.preloader.preloadOnLoadLinksForView(e)}},{key:"viewInvalidated",value:function(e){this.adapter.pageInvalidated(e)}},{key:"frameLoaded",value:function(e){this.notifyApplicationAfterFrameLoad(e)}},{key:"frameRendered",value:function(e,t){this.notifyApplicationAfterFrameRender(e,t)}},{key:"applicationAllowsFollowingLinkToLocation",value:function(e,t,n){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,n).defaultPrevented}},{key:"applicationAllowsVisitingLocation",value:function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}},{key:"notifyApplicationAfterClickingLinkToLocation",value:function(e,t,n){return D("turbo:click",{target:e,detail:{url:t.href,originalEvent:n},cancelable:!0})}},{key:"notifyApplicationBeforeVisitingLocation",value:function(e){return D("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}},{key:"notifyApplicationAfterVisitingLocation",value:function(e,t){return D("turbo:visit",{detail:{url:e.href,action:t}})}},{key:"notifyApplicationBeforeCachingSnapshot",value:function(){return D("turbo:before-cache")}},{key:"notifyApplicationBeforeRender",value:function(e,t){return D("turbo:before-render",{detail:k({newBody:e},t),cancelable:!0})}},{key:"notifyApplicationAfterRender",value:function(e){return D("turbo:render",{detail:{renderMethod:e}})}},{key:"notifyApplicationAfterPageLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D("turbo:load",{detail:{url:this.location.href,timing:e}})}},{key:"notifyApplicationAfterVisitingSamePageLocation",value:function(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}},{key:"notifyApplicationAfterFrameLoad",value:function(e){return D("turbo:frame-load",{target:e})}},{key:"notifyApplicationAfterFrameRender",value:function(e,t){return D("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}},{key:"submissionIsNavigatable",value:function(e,t){if("off"==pe.forms.mode)return!1;var n=!t||this.elementIsNavigatable(t);return"optin"==pe.forms.mode?n&&null!=e.closest('[data-turbo="true"]'):n&&this.elementIsNavigatable(e)}},{key:"elementIsNavigatable",value:function(e){var t=re(e,"[data-turbo]"),n=re(e,"turbo-frame");return pe.drive.enabled||n?!t||"false"!=t.getAttribute("data-turbo"):!!t&&"true"==t.getAttribute("data-turbo")}},{key:"getActionForLink",value:function(e){return Z(e)||"advance"}},{key:"snapshot",get:function(){return this.view.snapshot}}])}();function Gn(e){Object.defineProperties(e,Jn)}var Jn={absoluteURL:{get:function(){return this.toString()}}},Xn=new zn(Ae),Kn=Xn.cache,Yn=Xn.navigator;function $n(){Xn.start()}function Qn(e){Xn.registerAdapter(e)}function Zn(e,t){Xn.visit(e,t)}function er(e){Xn.connectStreamSource(e)}function tr(e){Xn.disconnectStreamSource(e)}function nr(e){Xn.renderStreamMessage(e)}function rr(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Xn.clearCache()}function ir(e){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),pe.drive.progressBarDelay=e}function or(e){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),pe.forms.confirm=e}function sr(e){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),pe.forms.mode=e}var ar=Object.freeze({__proto__:null,navigator:Yn,session:Xn,cache:Kn,PageRenderer:In,PageSnapshot:At,FrameRenderer:ft,fetch:Te,config:pe,start:$n,registerAdapter:Qn,visit:Zn,connectStreamSource:er,disconnectStreamSource:tr,renderStreamMessage:nr,clearCache:rr,setProgressBarDelay:ir,setConfirmMethod:or,setFormMode:sr}),ur=function(e){function t(){return s(this,t),i(this,t,arguments)}return y(t,e),d(t)}(P(Error)),cr=new WeakMap,lr=new WeakMap,hr=new WeakMap,dr=new WeakMap,fr=new WeakMap,pr=new WeakMap,vr=new WeakSet,mr=function(){return d((function e(t){var n=this;s(this,e),l(this,vr),p(this,"fetchResponseLoaded",(function(e){return Promise.resolve()})),u(this,cr,null),u(this,lr,(function(){})),u(this,hr,!1),u(this,dr,!1),u(this,fr,new Set),u(this,pr,!1),p(this,"action",null),p(this,"visitCachedSnapshot",(function(e){var t=e.element.querySelector("#"+n.element.id);t&&n.previousFrameElement&&t.replaceChildren.apply(t,T(n.previousFrameElement.children)),delete n.previousFrameElement})),this.element=t,this.view=new st(this,this.element),this.appearanceObserver=new je(this,this.element),this.formLinkClickObserver=new ct(this,this.element),this.linkInterceptor=new at(this,this.element),this.restorationIdentifier=J(),this.formSubmitObserver=new nt(this,this.element)}),[{key:"connect",value:function(){a(hr,this)||(c(hr,this,!0),this.loadingStyle==F.lazy?this.appearanceObserver.start():t(vr,this,yr).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}},{key:"disconnect",value:function(){a(hr,this)&&(c(hr,this,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}},{key:"disabledChanged",value:function(){this.loadingStyle==F.eager&&t(vr,this,yr).call(this)}},{key:"sourceURLChanged",value:function(){t(vr,this,Hr).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==F.eager||a(dr,this))&&t(vr,this,yr).call(this))}},{key:"sourceURLReloaded",value:function(){var e=this.element,t=e.refresh,n=e.src;return c(pr,this,n&&"morph"===t),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=n,this.element.loaded}},{key:"loadingStyleChanged",value:function(){this.loadingStyle==F.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),t(vr,this,yr).call(this))}},{key:"loadResponse",value:(o=r(w().mark((function e(n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n.redirected||n.succeeded&&n.isHTML)&&(this.sourceURL=n.response.url),e.prev=1,e.next=4,n.responseHTML;case 4:if(!(r=e.sent)){e.next=15;break}if(i=z(r),!At.fromDocument(i).isVisitable){e.next=13;break}return e.next=11,t(vr,this,br).call(this,n,i);case 11:e.next=15;break;case 13:return e.next=15,t(vr,this,Ar).call(this,n);case 15:return e.prev=15,c(pr,this,!1),this.fetchResponseLoaded=function(){return Promise.resolve()},e.finish(15);case 19:case"end":return e.stop()}}),e,this,[[1,,15,19]])}))),function(e){return o.apply(this,arguments)})},{key:"elementAppearedInViewport",value:function(e){this.proposeVisitIfNavigatedWithAction(e,Z(e)),t(vr,this,yr).call(this)}},{key:"willSubmitFormLinkToLocation",value:function(e){return t(vr,this,Ir).call(this,e)}},{key:"submittedFormLinkToLocation",value:function(e,n,r){var i=t(vr,this,Mr).call(this,e);i&&r.setAttribute("data-turbo-frame",i.id)}},{key:"shouldInterceptLinkClick",value:function(e,n,r){return t(vr,this,Ir).call(this,e)}},{key:"linkClickIntercepted",value:function(e,n){t(vr,this,Er).call(this,e,n)}},{key:"willSubmitForm",value:function(e,n){return e.closest("turbo-frame")==this.element&&t(vr,this,Ir).call(this,e,n)}},{key:"formSubmitted",value:function(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Qe(this,e,t);var n=this.formSubmission.fetchRequest;this.prepareRequest(n),this.formSubmission.start()}},{key:"prepareRequest",value:function(e){var t;e.headers["Turbo-Frame"]=this.id,null!==(t=this.currentNavigationElement)&&void 0!==t&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Ve.contentType)}},{key:"requestStarted",value:function(e){K(this.element)}},{key:"requestPreventedHandlingResponse",value:function(e,t){a(lr,this).call(this)}},{key:"requestSucceededWithResponse",value:(i=r(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadResponse(n);case 2:a(lr,this).call(this);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"requestFailedWithResponse",value:(n=r(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadResponse(n);case 2:a(lr,this).call(this);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"requestErrored",value:function(e,t){console.error(t),a(lr,this).call(this)}},{key:"requestFinished",value:function(e){Y(this.element)}},{key:"formSubmissionStarted",value:function(e){var n=e.formElement;K(n,t(vr,this,Mr).call(this,n))}},{key:"formSubmissionSucceededWithResponse",value:function(e,n){var r=t(vr,this,Mr).call(this,e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,Z(e.submitter,e.formElement,r)),r.delegate.loadResponse(n),e.isSafe||Xn.clearCache()}},{key:"formSubmissionFailedWithResponse",value:function(e,t){this.element.delegate.loadResponse(t),Xn.clearCache()}},{key:"formSubmissionErrored",value:function(e,t){console.error(t)}},{key:"formSubmissionFinished",value:function(e){var n=e.formElement;Y(n,t(vr,this,Mr).call(this,n))}},{key:"allowsImmediateRender",value:function(e,t){var n=e.element,r=D("turbo:before-frame-render",{target:this.element,detail:k({newFrame:n},t),cancelable:!0}),i=r.defaultPrevented,o=r.detail.render;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!i}},{key:"viewRenderedSnapshot",value:function(e,t,n){}},{key:"preloadOnLoadLinksForView",value:function(e){Xn.preloadOnLoadLinksForView(e)}},{key:"viewInvalidated",value:function(){}},{key:"willRenderFrame",value:function(e,t){this.previousFrameElement=e.cloneNode(!0)}},{key:"proposeVisitIfNavigatedWithAction",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.action=n,this.action){var i=At.fromElement(e).clone(),o=e.delegate.visitCachedSnapshot;e.delegate.fetchResponseLoaded=function(){var n=r(w().mark((function n(r){var s,a,u,c;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.src){n.next=9;break}return s=r.statusCode,a=r.redirected,n.next=4,r.responseHTML;case 4:u=n.sent,c={response:{statusCode:s,redirected:a,responseHTML:u},visitCachedSnapshot:o,willRender:!1,updateHistory:!1,restorationIdentifier:t.restorationIdentifier,snapshot:i},t.action&&(c.action=t.action),Xn.visit(e.src,c);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},{key:"changeHistory",value:function(){if(this.action){var e=Q(this.action);Xn.history.update(e,ve(this.element.src||""),this.restorationIdentifier)}}},{key:"extractForeignFrameElement",value:(e=r(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=CSS.escape(this.id),e.prev=1,!(n=Br(t.querySelector("turbo-frame#".concat(r)),this.sourceURL))){e.next=5;break}return e.abrupt("return",n);case 5:if(!(n=Br(t.querySelector("turbo-frame[src][recurse~=".concat(r,"]")),this.sourceURL))){e.next=12;break}return e.next=9,n.loaded;case 9:return e.next=11,this.extractForeignFrameElement(n);case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",new N);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this,[[1,14]])}))),function(t){return e.apply(this,arguments)})},{key:"id",get:function(){return this.element.id}},{key:"enabled",get:function(){return!this.element.disabled}},{key:"sourceURL",get:function(){if(this.element.src)return this.element.src},set:function(e){var n=this;t(vr,this,qr).call(this,"src",(function(){n.element.src=null!=e?e:null}))}},{key:"loadingStyle",get:function(){return this.element.loading}},{key:"isLoading",get:function(){return void 0!==this.formSubmission||void 0!==a(lr,this).call(this)}},{key:"complete",get:function(){return this.element.hasAttribute("complete")},set:function(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}},{key:"isActive",get:function(){return this.element.isActive&&a(hr,this)}},{key:"rootLocation",get:function(){var e,t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]');return ve(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:"/")}}]);var e,n,i,o}();function yr(){return gr.apply(this,arguments)}function gr(){return(gr=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.enabled||!this.isActive||this.complete||!this.sourceURL){e.next=6;break}return this.element.loaded=t(vr,this,wr).call(this,ve(this.sourceURL)),this.appearanceObserver.stop(),e.next=5,this.element.loaded;case 5:c(dr,this,!0);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function br(e,t){return kr.apply(this,arguments)}function kr(){return(kr=r(w().mark((function e(n,r){var i,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractForeignFrameElement(r.body);case 2:if(i=e.sent,o=a(pr,this)?bt:ft,!i){e.next=20;break}if(s=new Ze(i),u=new o(this,this.view.snapshot,s,!1,!1),!this.view.renderPromise){e.next=10;break}return e.next=10,this.view.renderPromise;case 10:return this.changeHistory(),e.next=13,this.view.render(u);case 13:return this.complete=!0,Xn.frameRendered(n,this.element),Xn.frameLoaded(this.element),e.next=18,this.fetchResponseLoaded(n);case 18:e.next=21;break;case 20:t(vr,this,Tr).call(this,n)&&t(vr,this,Rr).call(this,n);case 21:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function wr(e){return Sr.apply(this,arguments)}function Sr(){return(Sr=r(w().mark((function e(t){var n,r,i=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Ie(this,Ce.get,t,new URLSearchParams,this.element),null===(n=a(cr,this))||void 0===n||n.cancel(),c(cr,this,r),e.abrupt("return",new Promise((function(e){c(lr,i,(function(){c(lr,i,(function(){})),c(cr,i,null),e()})),r.perform()})));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Er(e,n,r){var i=t(vr,this,Mr).call(this,e,r);i.delegate.proposeVisitIfNavigatedWithAction(i,Z(r,e,i)),t(vr,this,Fr).call(this,e,(function(){i.src=n}))}function Ar(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=r(w().mark((function e(n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("The response (".concat(n.statusCode,') from <turbo-frame id="').concat(this.element.id,'"> is performing a full page visit due to turbo-visit-control.')),e.next=3,t(vr,this,xr).call(this,n.response);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Tr(e){var n=this;this.element.setAttribute("complete","");var i=e.response,o=function(){var e=r(w().mark((function e(r,i){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r instanceof Response?t(vr,n,xr).call(n,r):Xn.visit(r,i);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return!D("turbo:frame-missing",{target:this.element,detail:{response:i,visit:o},cancelable:!0}).defaultPrevented}function Rr(e){this.view.missing(),t(vr,this,Cr).call(this,e)}function Cr(e){var t="The response (".concat(e.statusCode,') did not contain the expected <turbo-frame id="').concat(this.element.id,'"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.');throw new ur(t)}function xr(e){return Pr.apply(this,arguments)}function Pr(){return(Pr=r(w().mark((function e(t){var n,r,i,o,s;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ee(t),e.next=3,n.responseHTML;case 3:return r=e.sent,i=n.location,o=n.redirected,s=n.statusCode,e.abrupt("return",Xn.visit(i,{response:{redirected:o,statusCode:s,responseHTML:r}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e,t){var n;return null!==(n=Nr(X("data-turbo-frame",t,e)||this.element.getAttribute("target")))&&void 0!==n?n:this.element}function Or(e,t){return ke(ve(ye(e,t)),this.rootLocation)}function Ir(e,n){var r=X("data-turbo-frame",n,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!t(vr,this,Or).call(this,e,n))return!1;if(!this.enabled||"_top"==r)return!1;if(r){var i=Nr(r);if(i)return!i.disabled}return!!Xn.elementIsNavigatable(e)&&!(n&&!Xn.elementIsNavigatable(n))}function Hr(e){return a(fr,this).has(e)}function qr(e,t){a(fr,this).add(e),t(),a(fr,this).delete(e)}function Fr(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}function Nr(e){if(null!=e){var t=document.getElementById(e);if(t instanceof N)return t}}function Br(e,t){if(e){var n=e.getAttribute("src");if(null!=n&&null!=t&&(r=t,ve(n).href==ve(r).href))throw new Error('Matching <turbo-frame id="'.concat(e.id,'"> element has a source URL which references itself'));if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof N)return e.connectedCallback(),e.disconnectedCallback(),e}var r}var Wr={after:function(){var e=this;this.targetElements.forEach((function(t){var n;return null===(n=t.parentElement)||void 0===n?void 0:n.insertBefore(e.templateContent,t.nextSibling)}))},append:function(){var e=this;this.removeDuplicateTargetChildren(),this.targetElements.forEach((function(t){return t.append(e.templateContent)}))},before:function(){var e=this;this.targetElements.forEach((function(t){var n;return null===(n=t.parentElement)||void 0===n?void 0:n.insertBefore(e.templateContent,t)}))},prepend:function(){var e=this;this.removeDuplicateTargetChildren(),this.targetElements.forEach((function(t){return t.prepend(e.templateContent)}))},remove:function(){this.targetElements.forEach((function(e){return e.remove()}))},replace:function(){var e=this,t=this.getAttribute("method");this.targetElements.forEach((function(n){"morph"===t?vt(n,e.templateContent):n.replaceWith(e.templateContent)}))},update:function(){var e=this,t=this.getAttribute("method");this.targetElements.forEach((function(n){"morph"===t?mt(n,e.templateContent):(n.innerHTML="",n.append(e.templateContent))}))},refresh:function(){Xn.refresh(this.baseURI,this.requestId)}},Dr=new WeakSet,jr=function(e){function n(){var e;s(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return l(e=i(this,n,[].concat(r)),Dr),e}return y(n,e),d(n,[{key:"connectedCallback",value:(u=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.render();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:return e.prev=8,this.disconnect(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,5,8,11]])}))),function(){return u.apply(this,arguments)})},{key:"render",value:(a=r(w().mark((function e(){var t,n=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(t=this.renderPromise)&&void 0!==t?t:this.renderPromise=r(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.beforeRenderEvent,!n.dispatchEvent(t)){e.next=6;break}return e.next=4,V();case 4:return e.next=6,t.detail.render(n);case 6:case"end":return e.stop()}}),e)})))());case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"disconnect",value:function(){try{this.remove()}catch(e){}}},{key:"removeDuplicateTargetChildren",value:function(){this.duplicateChildren.forEach((function(e){return e.remove()}))}},{key:"duplicateChildren",get:function(){var e,t=this.targetElements.flatMap((function(e){return T(e.children)})).filter((function(e){return!!e.id})),n=T((null===(e=this.templateContent)||void 0===e?void 0:e.children)||[]).filter((function(e){return!!e.id})).map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.id)}))}},{key:"performAction",get:function(){if(this.action){var e=Wr[this.action];if(e)return e;t(Dr,this,Vr).call(this,"unknown action")}t(Dr,this,Vr).call(this,"action attribute is missing")}},{key:"targetElements",get:function(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void t(Dr,this,Vr).call(this,"target or targets attribute is missing")}},{key:"templateContent",get:function(){return this.templateElement.content.cloneNode(!0)}},{key:"templateElement",get:function(){if(null===this.firstElementChild){var e=this.ownerDocument.createElement("template");return this.appendChild(e),e}if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;t(Dr,this,Vr).call(this,"first child element must be a <template> element")}},{key:"action",get:function(){return this.getAttribute("action")}},{key:"target",get:function(){return this.getAttribute("target")}},{key:"targets",get:function(){return this.getAttribute("targets")}},{key:"requestId",get:function(){return this.getAttribute("request-id")}},{key:"description",get:function(){var e,t;return null!==(e=(null!==(t=this.outerHTML.match(/<[^>]+>/))&&void 0!==t?t:[])[0])&&void 0!==e?e:"<turbo-stream>"}},{key:"beforeRenderEvent",get:function(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:n.renderElement}})}},{key:"targetElementsById",get:function(){var e,t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]}},{key:"targetElementsByQuery",get:function(){var e,t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]}}],[{key:"renderElement",value:(o=r(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.performAction();case 2:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}]);var o,a,u}(P(HTMLElement));function Vr(e){throw new Error("".concat(this.description,": ").concat(e))}var _r=function(e){function t(){var e;s(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(e=i(this,t,[].concat(r)),"streamSource",null),e}return y(t,e),d(t,[{key:"connectedCallback",value:function(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),er(this.streamSource)}},{key:"disconnectedCallback",value:function(){this.streamSource&&(this.streamSource.close(),tr(this.streamSource))}},{key:"src",get:function(){return this.getAttribute("src")||""}}])}(P(HTMLElement));N.delegateConstructor=mr,void 0===customElements.get("turbo-frame")&&customElements.define("turbo-frame",N),void 0===customElements.get("turbo-stream")&&customElements.define("turbo-stream",jr),void 0===customElements.get("turbo-stream-source")&&customElements.define("turbo-stream-source",_r),function(){var e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(e=e.parentElement;e;){if(e==document.body)return console.warn(G(O||(O=L(['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      ']))),e.outerHTML);e=e.parentElement}}(),window.Turbo=k(k({},ar),{},{StreamActions:Wr}),$n();var Ur,zr=Object.freeze({__proto__:null,FetchEnctype:Pe,FetchMethod:Ce,FetchRequest:Ie,FetchResponse:Ee,FrameElement:N,FrameLoadingStyle:F,FrameRenderer:ft,PageRenderer:In,PageSnapshot:At,StreamActions:Wr,StreamElement:jr,StreamSourceElement:_r,cache:Kn,clearCache:rr,config:pe,connectStreamSource:er,disconnectStreamSource:tr,fetch:Te,fetchEnctypeFromString:xe,fetchMethodFromString:Re,isSafe:Ne,navigator:Yn,registerAdapter:Qn,renderStreamMessage:nr,session:Xn,setConfirmMethod:or,setFormMode:sr,setProgressBarDelay:ir,start:$n,visit:Zn});function Gr(){return Jr.apply(this,arguments)}function Jr(){return(Jr=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur||Xr(Kr().then(Xr)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e){return Ur=e}function Kr(){return Yr.apply(this,arguments)}function Yr(){return Yr=r(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return Si}));case 2:return t=e.sent,n=t.createConsumer,e.abrupt("return",n());case 5:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}function $r(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=r(w().mark((function e(t,n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr();case 2:return r=e.sent,i=r.subscriptions,e.abrupt("return",i.create(t,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(e){return e&&"object"===C(e)?e instanceof Date||e instanceof RegExp?e:Array.isArray(e)?e.map(Zr):Object.keys(e).reduce((function(t,n){return t[n[0].toLowerCase()+n.slice(1).replace(/([A-Z]+)/g,(function(e,t){return"_"+t.toLowerCase()}))]=Zr(e[n]),t}),{}):e}var ei=function(e){function t(){return s(this,t),i(this,t,arguments)}return y(t,e),d(t,[{key:"connectedCallback",value:(n=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return er(this),e.next=3,$r(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)});case 3:this.subscription=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){tr(this),this.subscription&&this.subscription.unsubscribe(),this.subscriptionDisconnected()}},{key:"attributeChangedCallback",value:function(){this.subscription&&(this.disconnectedCallback(),this.connectedCallback())}},{key:"dispatchMessageEvent",value:function(e){var t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}},{key:"subscriptionConnected",value:function(){this.setAttribute("connected","")}},{key:"subscriptionDisconnected",value:function(){this.removeAttribute("connected")}},{key:"channel",get:function(){return k({channel:this.getAttribute("channel"),signed_stream_name:this.getAttribute("signed-stream-name")},Zr(k({},this.dataset)))}}]);var n}(P(HTMLElement));p(ei,"observedAttributes",["channel","signed-stream-name"]),void 0===customElements.get("turbo-cable-stream-source")&&customElements.define("turbo-cable-stream-source",ei),window.Turbo=zr,addEventListener("turbo:before-fetch-request",(function(e){if(e.target instanceof HTMLFormElement){var t=e.target,n=e.detail.fetchOptions;t.addEventListener("turbo:submit-start",(function(e){var r=e.detail.formSubmission.submitter,i=function(e){return e instanceof FormData||e instanceof URLSearchParams}(n.body)?n.body:new URLSearchParams,o=function(e,t,n){var r=function(e){return e instanceof HTMLButtonElement||e instanceof HTMLInputElement?"_method"===e.name?e.value:e.hasAttribute("formmethod")?e.formMethod:null:null}(e),i=t.get("_method"),o=n.getAttribute("method")||"get";return"string"==typeof r?r:"string"==typeof i?i:o}(r,i,t);/get/i.test(o)||(/post/i.test(o)?i.delete("_method"):i.set("_method",o),n.method="post")}),{once:!0})}}));var ti=new(function(){return d((function e(){s(this,e)}),[{key:"reload",value:function(){console.debug("CSS reloaded"),document.querySelectorAll('link[rel="stylesheet"]').forEach((function(e){var t=e.getAttribute("href");e.setAttribute("href","".concat(t,"?reload=").concat(Date.now()))}))}}])}());Wr.reload_css=function(){ti.reload()};var ni=function(){var e=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:c,afterNodeAdded:c,beforeNodeMorphed:c,afterNodeMorphed:c,beforeNodeRemoved:c,afterNodeRemoved:c,beforeAttributeUpdated:c},head:{style:"merge",shouldPreserve:function(e){return"true"===e.getAttribute("im-preserve")},shouldReAppend:function(e){return"true"===e.getAttribute("im-re-append")},shouldRemove:c,afterHeadMorphed:c}};function n(e,t,r){if(r.head.block){var s=e.querySelector("head"),a=t.querySelector("head");if(s&&a){var c=u(a,s,r);return void Promise.all(c).then((function(){n(e,t,Object.assign(r,{head:{block:!1,ignore:!0}}))}))}}if("innerHTML"===r.morphStyle)return o(t,e,r),e.children;if("outerHTML"===r.morphStyle||null==r.morphStyle){var l=function(e,t,n){var r,i=r=e.firstChild,o=0;for(;r;){var s=m(r,t,n);s>o&&(i=r,o=s),r=r.nextSibling}return i}(t,e,r),h=null==l?void 0:l.previousSibling,d=null==l?void 0:l.nextSibling,f=i(e,l,r);return l?function(e,t,n){var r=[],i=[];for(;null!=e;)r.push(e),e=e.previousSibling;for(;r.length>0;){var o=r.pop();i.push(o),t.parentElement.insertBefore(o,t)}i.push(t);for(;null!=n;)r.push(n),i.push(n),n=n.nextSibling;for(;r.length>0;)t.parentElement.insertBefore(r.pop(),t.nextSibling);return i}(h,f,d):[]}throw"Do not understand how to morph style "+r.morphStyle}function r(e,t){return t.ignoreActiveValue&&e===document.activeElement}function i(e,t,n){if(!n.ignoreActive||e!==document.activeElement)return null==t?!1===n.callbacks.beforeNodeRemoved(e)?e:(e.remove(),n.callbacks.afterNodeRemoved(e),null):h(e,t)?(!1===n.callbacks.beforeNodeMorphed(e,t)||(e instanceof HTMLHeadElement&&n.head.ignore||(e instanceof HTMLHeadElement&&"morph"!==n.head.style?u(t,e,n):(!function(e,t,n){var i=e.nodeType;if(1===i){var o,u=e.attributes,c=t.attributes,l=f(u);try{for(l.s();!(o=l.n()).done;){var h=o.value;s(h.name,t,"update",n)||t.getAttribute(h.name)!==h.value&&t.setAttribute(h.name,h.value)}}catch(e){l.e(e)}finally{l.f()}for(var d=c.length-1;0<=d;d--){var p=c[d];s(p.name,t,"remove",n)||(e.hasAttribute(p.name)||t.removeAttribute(p.name))}}8!==i&&3!==i||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue);r(t,n)||function(e,t,n){if(e instanceof HTMLInputElement&&t instanceof HTMLInputElement&&"file"!==e.type){var r=e.value,i=t.value;a(e,t,"checked",n),a(e,t,"disabled",n),e.hasAttribute("value")?r!==i&&(s("value",t,"update",n)||(t.setAttribute("value",r),t.value=r)):s("value",t,"remove",n)||(t.value="",t.removeAttribute("value"))}else if(e instanceof HTMLOptionElement)a(e,t,"selected",n);else if(e instanceof HTMLTextAreaElement&&t instanceof HTMLTextAreaElement){var o=e.value,u=t.value;if(s("value",t,"update",n))return;o!==u&&(t.value=o),t.firstChild&&t.firstChild.nodeValue!==o&&(t.firstChild.nodeValue=o)}}(e,t,n)}(t,e,n),r(e,n)||o(t,e,n))),n.callbacks.afterNodeMorphed(e,t)),e):!1===n.callbacks.beforeNodeRemoved(e)||!1===n.callbacks.beforeNodeAdded(t)?e:(e.parentElement.replaceChild(t,e),n.callbacks.afterNodeAdded(t),n.callbacks.afterNodeRemoved(e),t)}function o(e,t,n){for(var r,o=e.firstChild,s=t.firstChild;o;)if(o=(r=o).nextSibling,null!=s)if(l(r,s,n))i(s,r,n),s=s.nextSibling,k(n,r);else{var a=p(e,t,r,s,n);if(a)s=d(s,a,n),i(a,r,n),k(n,r);else{var u=v(e,t,r,s,n);if(u)s=d(s,u,n),i(u,r,n),k(n,r);else{if(!1===n.callbacks.beforeNodeAdded(r))return;t.insertBefore(r,s),n.callbacks.afterNodeAdded(r),k(n,r)}}}else{if(!1===n.callbacks.beforeNodeAdded(r))return;t.appendChild(r),n.callbacks.afterNodeAdded(r),k(n,r)}for(;null!==s;){var c=s;s=s.nextSibling,y(c,n)}}function s(e,t,n,r){return!("value"!==e||!r.ignoreActiveValue||t!==document.activeElement)||!1===r.callbacks.beforeAttributeUpdated(e,t,n)}function a(e,t,n,r){if(e[n]!==t[n]){var i=s(n,t,"update",r);i||(t[n]=e[n]),e[n]?i||t.setAttribute(n,e[n]):s(n,t,"remove",r)||t.removeAttribute(n)}}function u(e,t,n){var r,i=[],o=[],s=[],a=[],u=n.head.style,c=new Map,l=f(e.children);try{for(l.s();!(r=l.n()).done;){var h=r.value;c.set(h.outerHTML,h)}}catch(e){l.e(e)}finally{l.f()}var d,p=f(t.children);try{for(p.s();!(d=p.n()).done;){var v=d.value,m=c.has(v.outerHTML),y=n.head.shouldReAppend(v),g=n.head.shouldPreserve(v);m||g?y?o.push(v):(c.delete(v.outerHTML),s.push(v)):"append"===u?y&&(o.push(v),a.push(v)):!1!==n.head.shouldRemove(v)&&o.push(v)}}catch(e){p.e(e)}finally{p.f()}a.push.apply(a,T(c.values()));for(var b=[],k=function(){var e=S[w],r=document.createRange().createContextualFragment(e.outerHTML).firstChild;if(!1!==n.callbacks.beforeNodeAdded(r)){if(r.href||r.src){var o=null,s=new Promise((function(e){o=e}));r.addEventListener("load",(function(){o()})),b.push(s)}t.appendChild(r),n.callbacks.afterNodeAdded(r),i.push(r)}},w=0,S=a;w<S.length;w++)k();for(var E=0,A=o;E<A.length;E++){var L=A[E];!1!==n.callbacks.beforeNodeRemoved(L)&&(t.removeChild(L),n.callbacks.afterNodeRemoved(L))}return n.head.afterHeadMorphed(t,{added:i,kept:s,removed:o}),b}function c(){}function l(e,t,n){return null!=e&&null!=t&&(e.nodeType===t.nodeType&&e.tagName===t.tagName&&(""!==e.id&&e.id===t.id||w(n,e,t)>0))}function h(e,t){return null!=e&&null!=t&&(e.nodeType===t.nodeType&&e.tagName===t.tagName)}function d(e,t,n){for(;e!==t;){var r=e;e=e.nextSibling,y(r,n)}return k(n,t),t.nextSibling}function p(e,t,n,r,i){var o=w(i,n,t);if(o>0)for(var s=r,a=0;null!=s;){if(l(n,s,i))return s;if((a+=w(i,s,e))>o)return null;s=s.nextSibling}return null}function v(e,t,n,r,i){for(var o=r,s=n.nextSibling,a=0;null!=o;){if(w(i,o,e)>0)return null;if(h(n,o))return o;if(h(s,o)&&(a++,s=s.nextSibling,a>=2))return null;o=o.nextSibling}return o}function m(e,t,n){return h(e,t)?.5+w(n,e,t):0}function y(e,t){k(t,e),!1!==t.callbacks.beforeNodeRemoved(e)&&(e.remove(),t.callbacks.afterNodeRemoved(e))}function g(e,t){return!e.deadIds.has(t)}function b(t,n,r){return(t.idMap.get(r)||e).has(n)}function k(t,n){var r,i=f(t.idMap.get(n)||e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.deadIds.add(o)}}catch(e){i.e(e)}finally{i.f()}}function w(t,n,r){var i,o=0,s=f(t.idMap.get(n)||e);try{for(s.s();!(i=s.n()).done;){var a=i.value;g(t,a)&&b(t,a,r)&&++o}}catch(e){s.e(e)}finally{s.f()}return o}function S(e,t){var n,r=e.parentElement,i=f(e.querySelectorAll("[id]"));try{for(i.s();!(n=i.n()).done;)for(var o=n.value,s=o;s!==r&&null!=s;){var a=t.get(s);null==a&&(a=new Set,t.set(s,a)),a.add(o.id),s=s.parentElement}}catch(e){i.e(e)}finally{i.f()}}function E(e,t){var n=new Map;return S(e,n),S(t,n),n}return{morph:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof Document&&(e=e.documentElement),"string"==typeof r&&(r=function(e){var t=new DOMParser,n=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(n.match(/<\/html>/)||n.match(/<\/head>/)||n.match(/<\/body>/)){var r=t.parseFromString(e,"text/html");if(n.match(/<\/html>/))return r.generatedByIdiomorph=!0,r;var i=r.firstChild;return i?(i.generatedByIdiomorph=!0,i):null}var o=t.parseFromString("<body><template>"+e+"</template></body>","text/html").body.querySelector("template").content;return o.generatedByIdiomorph=!0,o}(r));var o=function(e){if(null==e)return document.createElement("div");if(e.generatedByIdiomorph)return e;if(e instanceof Node){var t=document.createElement("div");return t.append(e),t}for(var n=document.createElement("div"),r=0,i=T(e);r<i.length;r++){var o=i[r];n.append(o)}return n}(r),s=function(e,n,r){return r=function(e){var n={};return Object.assign(n,t),Object.assign(n,e),n.callbacks={},Object.assign(n.callbacks,t.callbacks),Object.assign(n.callbacks,e.callbacks),n.head={},Object.assign(n.head,t.head),Object.assign(n.head,e.head),n}(r),{target:e,newContent:n,config:r,morphStyle:r.morphStyle,ignoreActive:r.ignoreActive,ignoreActiveValue:r.ignoreActiveValue,idMap:E(e,n),deadIds:new Set,callbacks:r.callbacks,head:r.head}}(e,o,i);return n(e,o,s)},defaults:t}}(),ri=function(){return d((function e(){s(this,e)}),[{key:"reload",value:(e=r(w().mark((function e(){var t,n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("HTML reloaded"),e.prev=1,e.next=4,fetch(window.location.href);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch HTML: ".concat(t.statusText));case 7:return e.next=9,t.text();case 9:n=e.sent,r=new DOMParser,i=r.parseFromString(n,"text/html"),this.updateHead(i.head),ni.morph(document.body,i.body,{callbacks:{beforeNodeMorphed:function(e,t){return!(e instanceof HTMLElement&&e.closest("turbo-cable-stream-source"))}}}),console.debug("HTML successfully reloaded"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error reloading HTML:",e.t0);case 20:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return e.apply(this,arguments)})},{key:"updateHead",value:function(e){ni.morph(document.head,e)}}]);var e}(),ii=new ri;Wr.reload_html=r(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ii.reload();case 1:case"end":return e.stop()}}),e)}))),console.debug("HOLA!");var oi={logger:"undefined"!=typeof console?console:void 0,WebSocket:"undefined"!=typeof WebSocket?WebSocket:void 0},si={log:function(){if(this.enabled){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.push(Date.now()),(e=oi.logger).log.apply(e,["[ActionCable]"].concat(n))}}},ai=function(){return(new Date).getTime()},ui=function(e){return(ai()-e)/1e3},ci=function(){return d((function e(t){s(this,e),this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}),[{key:"start",value:function(){this.isRunning()||(this.startedAt=ai(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),si.log("ConnectionMonitor started. stale threshold = ".concat(this.constructor.staleThreshold," s")))}},{key:"stop",value:function(){this.isRunning()&&(this.stoppedAt=ai(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),si.log("ConnectionMonitor stopped"))}},{key:"isRunning",value:function(){return this.startedAt&&!this.stoppedAt}},{key:"recordMessage",value:function(){this.pingedAt=ai()}},{key:"recordConnect",value:function(){this.reconnectAttempts=0,delete this.disconnectedAt,si.log("ConnectionMonitor recorded connect")}},{key:"recordDisconnect",value:function(){this.disconnectedAt=ai(),si.log("ConnectionMonitor recorded disconnect")}},{key:"startPolling",value:function(){this.stopPolling(),this.poll()}},{key:"stopPolling",value:function(){clearTimeout(this.pollTimeout)}},{key:"poll",value:function(){var e=this;this.pollTimeout=setTimeout((function(){e.reconnectIfStale(),e.poll()}),this.getPollInterval())}},{key:"getPollInterval",value:function(){var e=this.constructor,t=e.staleThreshold,n=e.reconnectionBackoffRate;return 1e3*t*Math.pow(1+n,Math.min(this.reconnectAttempts,10))*(1+(0===this.reconnectAttempts?1:n)*Math.random())}},{key:"reconnectIfStale",value:function(){this.connectionIsStale()&&(si.log("ConnectionMonitor detected stale connection. reconnectAttempts = ".concat(this.reconnectAttempts,", time stale = ").concat(ui(this.refreshedAt)," s, stale threshold = ").concat(this.constructor.staleThreshold," s")),this.reconnectAttempts++,this.disconnectedRecently()?si.log("ConnectionMonitor skipping reopening recent disconnect. time disconnected = ".concat(ui(this.disconnectedAt)," s")):(si.log("ConnectionMonitor reopening"),this.connection.reopen()))}},{key:"refreshedAt",get:function(){return this.pingedAt?this.pingedAt:this.startedAt}},{key:"connectionIsStale",value:function(){return ui(this.refreshedAt)>this.constructor.staleThreshold}},{key:"disconnectedRecently",value:function(){return this.disconnectedAt&&ui(this.disconnectedAt)<this.constructor.staleThreshold}},{key:"visibilityDidChange",value:function(){var e=this;"visible"===document.visibilityState&&setTimeout((function(){!e.connectionIsStale()&&e.connection.isOpen()||(si.log("ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ".concat(document.visibilityState)),e.connection.reopen())}),200)}}])}();ci.staleThreshold=6,ci.reconnectionBackoffRate=.15;var li={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},hi=li.message_types,di=li.protocols,fi=di.slice(0,di.length-1),pi=[].indexOf,vi=function(){return d((function e(t){s(this,e),this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new ci(this),this.disconnected=!0}),[{key:"send",value:function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)}},{key:"open",value:function(){if(this.isActive())return si.log("Attempted to open WebSocket, but existing socket is ".concat(this.getState())),!1;var e=[].concat(T(di),T(this.consumer.subprotocols||[]));return si.log("Opening WebSocket, current state is ".concat(this.getState(),", subprotocols: ").concat(e)),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new oi.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0}},{key:"close",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isOpen())return this.webSocket.close()}},{key:"reopen",value:function(){if(si.log("Reopening WebSocket, current state is ".concat(this.getState())),!this.isActive())return this.open();try{return this.close()}catch(e){si.log("Failed to reopen WebSocket",e)}finally{si.log("Reopening WebSocket in ".concat(this.constructor.reopenDelay,"ms")),setTimeout(this.open,this.constructor.reopenDelay)}}},{key:"getProtocol",value:function(){if(this.webSocket)return this.webSocket.protocol}},{key:"isOpen",value:function(){return this.isState("open")}},{key:"isActive",value:function(){return this.isState("open","connecting")}},{key:"triedToReconnect",value:function(){return this.monitor.reconnectAttempts>0}},{key:"isProtocolSupported",value:function(){return pi.call(fi,this.getProtocol())>=0}},{key:"isState",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pi.call(t,this.getState())>=0}},{key:"getState",value:function(){if(this.webSocket)for(var e in oi.WebSocket)if(oi.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null}},{key:"installEventHandlers",value:function(){for(var e in this.events){var t=this.events[e].bind(this);this.webSocket["on".concat(e)]=t}}},{key:"uninstallEventHandlers",value:function(){for(var e in this.events)this.webSocket["on".concat(e)]=function(){}}}])}();vi.reopenDelay=500,vi.prototype.events={message:function(e){if(this.isProtocolSupported()){var t=JSON.parse(e.data),n=t.identifier,r=t.message,i=t.reason,o=t.reconnect,s=t.type;switch(this.monitor.recordMessage(),s){case hi.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case hi.disconnect:return si.log("Disconnecting. Reason: ".concat(i)),this.close({allowReconnect:o});case hi.ping:return null;case hi.confirmation:return this.subscriptions.confirmSubscription(n),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(n,"connected",{reconnected:!0})):this.subscriptions.notify(n,"connected",{reconnected:!1});case hi.rejection:return this.subscriptions.reject(n);default:return this.subscriptions.notify(n,"received",r)}}},open:function(){if(si.log("WebSocket onopen event, using '".concat(this.getProtocol(),"' subprotocol")),this.disconnected=!1,!this.isProtocolSupported())return si.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(e){if(si.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){si.log("WebSocket onerror event")}};var mi=function(){return d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;s(this,e),this.consumer=t,this.identifier=JSON.stringify(n),function(e,t){if(null!=t)for(var n in t){var r=t[n];e[n]=r}}(this,r)}),[{key:"perform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.action=e,this.send(t)}},{key:"send",value:function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}},{key:"unsubscribe",value:function(){return this.consumer.subscriptions.remove(this)}}])}(),yi=function(){return d((function e(t){s(this,e),this.subscriptions=t,this.pendingSubscriptions=[]}),[{key:"guarantee",value:function(e){-1==this.pendingSubscriptions.indexOf(e)?(si.log("SubscriptionGuarantor guaranteeing ".concat(e.identifier)),this.pendingSubscriptions.push(e)):si.log("SubscriptionGuarantor already guaranteeing ".concat(e.identifier)),this.startGuaranteeing()}},{key:"forget",value:function(e){si.log("SubscriptionGuarantor forgetting ".concat(e.identifier)),this.pendingSubscriptions=this.pendingSubscriptions.filter((function(t){return t!==e}))}},{key:"startGuaranteeing",value:function(){this.stopGuaranteeing(),this.retrySubscribing()}},{key:"stopGuaranteeing",value:function(){clearTimeout(this.retryTimeout)}},{key:"retrySubscribing",value:function(){var e=this;this.retryTimeout=setTimeout((function(){e.subscriptions&&"function"==typeof e.subscriptions.subscribe&&e.pendingSubscriptions.map((function(t){si.log("SubscriptionGuarantor resubscribing ".concat(t.identifier)),e.subscriptions.subscribe(t)}))}),500)}}])}(),gi=function(){return d((function e(t){s(this,e),this.consumer=t,this.guarantor=new yi(this),this.subscriptions=[]}),[{key:"create",value:function(e,t){var n=e,r="object"===C(n)?n:{channel:n},i=new mi(this.consumer,r,t);return this.add(i)}},{key:"add",value:function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}},{key:"remove",value:function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}},{key:"reject",value:function(e){var t=this;return this.findAll(e).map((function(e){return t.forget(e),t.notify(e,"rejected"),e}))}},{key:"forget",value:function(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter((function(t){return t!==e})),e}},{key:"findAll",value:function(e){return this.subscriptions.filter((function(t){return t.identifier===e}))}},{key:"reload",value:function(){var e=this;return this.subscriptions.map((function(t){return e.subscribe(t)}))}},{key:"notifyAll",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.subscriptions.map((function(n){return t.notify.apply(t,[n,e].concat(r))}))}},{key:"notify",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return("string"==typeof e?this.findAll(e):[e]).map((function(e){return"function"==typeof e[t]?e[t].apply(e,r):void 0}))}},{key:"subscribe",value:function(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}},{key:"confirmSubscription",value:function(e){var t=this;si.log("Subscription confirmed ".concat(e)),this.findAll(e).map((function(e){return t.guarantor.forget(e)}))}},{key:"sendCommand",value:function(e,t){var n=e.identifier;return this.consumer.send({command:t,identifier:n})}}])}(),bi=function(){return d((function e(t){s(this,e),this._url=t,this.subscriptions=new gi(this),this.connection=new vi(this),this.subprotocols=[]}),[{key:"url",get:function(){return ki(this._url)}},{key:"send",value:function(e){return this.connection.send(e)}},{key:"connect",value:function(){return this.connection.open()}},{key:"disconnect",value:function(){return this.connection.close({allowReconnect:!1})}},{key:"ensureActiveConnection",value:function(){if(!this.connection.isActive())return this.connection.open()}},{key:"addSubProtocol",value:function(e){this.subprotocols=[].concat(T(this.subprotocols),[e])}}])}();function ki(e){if("function"==typeof e&&(e=e()),e&&!/^wss?:/i.test(e)){var t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}return e}function wi(e){var t=document.head.querySelector("meta[name='action-cable-".concat(e,"']"));if(t)return t.getAttribute("content")}var Si=Object.freeze({__proto__:null,Connection:vi,ConnectionMonitor:ci,Consumer:bi,INTERNAL:li,Subscription:mi,SubscriptionGuarantor:yi,Subscriptions:gi,adapters:oi,createConsumer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi("url")||li.default_mount_path;return new bi(e)},createWebSocketURL:ki,getConfig:wi,logger:si})}();
//# sourceMappingURL=pulse_wire.min.js.map
